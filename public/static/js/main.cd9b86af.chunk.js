(this["webpackJsonppharma-project"]=this["webpackJsonppharma-project"]||[]).push([[0],{133:function(e,a,t){"use strict";t.r(a);t(80);var s=t(1),r=t.n(s),n=t(28),c=t.n(n),l=(t(86),t(87),t(88),t(2)),o=t(19),i=t(4),d={itemsPerPage:5,length:4,itemsPerPageOptions:[5,10,20,30,40,50,100],currentPage:1},u={data:[],filters:{search:"",role:"",status:""},pagination:Object(i.a)({},d)},m={data:[],filters:{search:"",category:"",status:""},pagination:Object(i.a)({},d)},b={data:[],filters:{search:"",type:"",status:""},pagination:Object(i.a)({},d)},p={views:{counter:0,previous_counter:0},online_orders:{counter:0,previous_counter:0},pharmacies:{counter:0},users:{counter:0},sales:{counter:0,previous_counter:0},orders:{counter:0,previous_counter:0},profits:{counter:0,previous_counter:0},sold_products:{counter:0,previous_counter:0}},f={data:[],filters:{search:""},pagination:Object(i.a)({},d)},j={data:[],filters:{search:"",category:"",company:""},pagination:Object(i.a)({},d)},h={data:[],filters:{search:""},pagination:Object(i.a)({},d)},x={data:[],filters:{search:"",role:"",status:""},pagination:Object(i.a)({},d)},v={collapseMenu:"true"===localStorage.getItem("collapse_menu"),statistics:{overview:Object(i.a)({},p)},loggedUser:{},pharmacyBranches:[],pharmacyBranch:{},notifications:[],uploads:{productPhoto:""},tables:{productsStatistics:h,inventory:m,employees:u,orders:b,pharmacies:f,users:x,products:j},popupWindow:{display:!1,type:"",data:{}},pos:{products:[],discount:{amount:0,unit:"SDG"}}},g=Object(l.c)(Object(i.a)({},v));Object(l.a)(g).label("Store");var O=g,y=t(6),w=t(15),_=t(0),N=function(){return Object(_.jsx)("footer",{className:" mt-10",children:Object(_.jsxs)("p",{className:"text-smd text-center bg-white border-t py-2 text-gray-600",children:["\xa9 ",(new Date).getFullYear()," Pharma. All rights reserved."]})})},k=t(3),C=t.n(k),S=t(5),P=function(e){var a=e.name;return Object(_.jsx)("h2",{className:"text-center font-semibold text-xl mb-10",children:Object(_.jsx)("span",{className:"inline-block pb-2 border-b-2 border-gray-300 border-dashed",children:a})})},A=function(e){var a=e.label,t=void 0===a?"Save Changes":a,s=e.faClass,r=void 0===s?"fas fa-save":s,n=e.className,c=void 0===n?"bg-primary hover:bg-secondary text-white shadow-md rounded text-smd":n,l=e.type,o=void 0===l?"submit":l,i=e.onClick,d=e.iconAfter,u=void 0!==d&&d;return Object(_.jsx)("button",{type:o,onClick:i,className:"py-2 px-3 font-semibold mr-4 last:mr-0 group ".concat(c),children:u?Object(_.jsxs)(_.Fragment,{children:[t,Object(_.jsx)("i",{className:"".concat(r," text-bright ml-1.5")})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("i",{className:"".concat(r," text-bright mr-1.5")})," ",t]})})},M=function(e){var a=e.children,t=e.submitBtn,s=e.footerLink,r=e.onSubmit,n=e.className,c=void 0===n?"flex flex-col gap-y-6":n;return Object(_.jsxs)("div",{className:"bg-white rounded shadow-lg p-5 text-sm animate__animated animate__faster animate__backInUp",children:[Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r()},children:[Object(_.jsx)("div",{className:c,children:a}),Object(_.jsx)(A,{label:t.label,faClass:t.faClass,iconAfter:!0,className:"".concat(t.className||"w-full"," mt-6 rounded-sm shadow-md py-2.5 text-sm bg-primary text-white hover:bg-secondary")})]}),s&&Object(_.jsx)("div",{className:"border-t-2 bg-gray-100 py-3 -mx-5 -mb-5 mt-6 rounded-b text-center",children:Object(_.jsx)(w.b,{to:s.link,className:"text-gray-500 font-medium text-xs",children:s.content})})]})},D=function(e){var a=e.children,t=e.className;return Object(_.jsx)("div",{className:"px-3 py-2 text-gray-600 bg-gray border-dashed border border-gray-300 rounded ".concat(t),children:a})},F=t(18),q=t(76),I=t(79),E=["className","label","type","value","options","taggable","inputOnly","inputClassName","booleanValue","inputWrapper","contentAfter","escapePattern"];var L=function(e){var a=e.className,t=e.label,r=e.type,n=void 0===r?"text":r,c=e.value,l=e.options,o=void 0===l?[]:l,d=e.taggable,u=void 0!==d&&d,m=e.inputOnly,b=void 0!==m&&m,p=e.inputClassName,f=void 0===p?"":p,j=e.booleanValue,h=void 0!==j&&j,x=e.inputWrapper,v=void 0!==x&&x,g=e.contentAfter,O=e.escapePattern,y=Object(F.a)(e,E),w=void 0!==c?c.get():"",N=function(e){var a=e.target;if(h)switch(a.value.toLowerCase()){case"no":case"false":case"0":c.set(!1);break;default:c.set(!0)}else c.set(a.value)};O&&y.pattern&&(y.pattern=y.pattern.replace(/[$^.]/,"\\$&"));var k=function(e){c.set(e.value)},C=Object(s.useCallback)((function(){switch(n){case"select":return Object(_.jsx)(q.a,Object(i.a)({styles:B,className:f||"border border-gray-300 bg-white rounded-sm py-1 px-2 shadow",classNamePrefix:"react-select",value:{label:w,value:w},options:o,onChange:k,isSearchable:!0,isDisabled:y.disabled},y));case"radio":return Object(_.jsx)("div",{className:"my-auto",children:o.map((function(e,a){var t=e.label,s=e.value;return Object(_.jsxs)("div",{className:"inline-block mr-4 last:mr-0",children:[Object(_.jsx)("input",Object(i.a)(Object(i.a)({className:"mr-1 align-middle",type:"radio",value:s,onChange:N,checked:w.toString()===s.toString()},y),{},{id:"".concat(t,"_").concat(a)})),Object(_.jsx)("label",{htmlFor:"".concat(t,"_").concat(a),children:t})]},a)}))});case"textarea":return Object(_.jsx)("textarea",{className:"border w-full h-25 border-gray-300 rounded-sm py-1 px-2 shadow",value:w,onChange:N});case"file":return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("label",{htmlFor:y.id,className:"inline-block cursor-pointer bg-primary text-white text-xxs rounded-sm shadow-md font-semibold px-2 py-1.5 hover:bg-secondary",children:[Object(_.jsx)("i",{className:"fas fa-upload text-bright mr-1"})," ",y.btnLabel||"Upload"]}),Object(_.jsx)("input",Object(i.a)({className:"hidden",type:n,value:"",onChange:function(e){var a=e.target;c.set(a.files[0])}},y))]});default:return u?Object(_.jsx)(I.a,Object(i.a)({styles:B,className:"border w-full border-gray-300 bg-white rounded-sm py-1 px-2 shadow",classNamePrefix:"react-select",value:{label:w,value:w},options:o,onChange:k,onInputChange:function(e,a){"input-change"===a&&c.set(e)},isSearchable:!0,isDisabled:y.disabled},y)):Object(_.jsx)("input",Object(i.a)({className:f||"border w-full border-gray-300 rounded-sm py-1 px-2 shadow",type:n,value:w,onChange:N},y))}}),[y,o,u,n]);return b?C():Object(_.jsxs)("div",{className:a,children:[Object(_.jsxs)("label",{htmlFor:y.id,className:"mb-2 block font-medium capitalize",children:[t,y.required?Object(_.jsx)("span",{className:"text-red ml-0.5",children:"*"}):void 0]}),v?Object(_.jsxs)("div",{className:"relative",children:[C()," ",g]}):Object(_.jsxs)(_.Fragment,{children:[C()," ",g]})]})},B={control:function(e){return{display:"flex",justifyContent:"space-between"}},valueContainer:function(e){return Object(i.a)(Object(i.a)({},e),{},{padding:"0"})},indicatorsContainer:function(){return{}},input:function(e){return Object(i.a)(Object(i.a)({},e),{},{padding:"0",margin:"0"})},singleValue:function(e){return Object(i.a)(Object(i.a)({},e),{},{margin:"0"})},menu:function(e){return Object(i.a)(Object(i.a)({},e),{},{left:0})}},T=["icon"],z=function(e){var a=e.icon,t=Object(F.a)(e,T);return Object(_.jsx)(L,Object(i.a)({inputClassName:"bg-gray-100 border p-2 w-full rounded-sm shadow ".concat(a?"pr-6":""),inputWrapper:!!a,contentAfter:a&&Object(_.jsx)("i",{className:"".concat(a," absolute top-1/2 transform -translate-y-1/2 right-3.5 text-xs text-gray-300")})},t))},R=t(44),U=t.n(R),J={get:U.a.get,post:U.a.post,put:U.a.put,delete:U.a.delete},V=[{id:1,first_name:"Mustafa",last_name:"Salah",username:"mustafa",email:"mustafasalah99@gmail.com",role:"admin",gender:"m",phone_number:"+249965474730",state:"khartoum",city:"omdurman",address:"althwra, alhara 59",status:"active",last_seen:"online",joining_date:"12-10-2019"},{id:2,username:"mustafasalah",email:"mustafasalah99@gmail.com",first_name:"Mustafa",last_name:"Salah",gender:"m",phone_number:"+249121297015",role:"pharmacy owner",state:"khartoum",city:"omdurman",address:"Al thwrah, al harah 59, al shingety street",status:"active",last_seen:"5 hours ago",joining_date:"27-02-2020"},{id:3,first_name:"Ali",last_name:"Osman",username:"ali",email:"aliosman99@gmail.com",role:"pharmacy owner",gender:"m",phone_number:"+249965479987",state:"khartoum",city:"khartoum",address:"alriyad, almshtal street",status:"active",last_seen:"2 hours ago",joining_date:"22-12-2019"},{id:4,first_name:"Mona",last_name:"Hassan",username:"mona",email:"mona_hassssan@hotmail.com",role:"pharmacist",gender:"f",phone_number:"",state:"khartoum",city:"",address:"",status:"active",last_seen:"1 day ago",joining_date:"01-01-2021"},{id:5,first_name:"Ahmed",last_name:"Mohamed",username:"ahmed",email:"ahmed_mohamed@hotmail.com",role:"user",gender:"f",phone_number:"+249965949423",state:"khartoum",city:"",address:"",status:"active",last_seen:"1 day ago",joining_date:"02-02-2021"},{id:6,first_name:"Hassan",last_name:"Salah",username:"hassan",email:"hassssan1993@gmail.com",role:"supervisor",gender:"m",phone_number:"+24990483829",state:"khartoum",city:"",address:"",status:"active",last_seen:"2 hours ago",joining_date:"24-04-2021"}],G=function(e){var a=V.find((function(a){return a.username===e}));return Promise.resolve({data:a,status:200})},W=function(e){var a=V.filter((function(a){return a.role===e}));return Promise.resolve({data:a,status:200})},Y=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve({data:V,status:200});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(e){return V=V.filter((function(a){return a.id!==e})),Promise.resolve({data:{id:e},status:200})},X=function(){var e=Object(S.a)(C.a.mark((function e(a){var t,s,r,n,c,l,o,d,u,m,b,p,f;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.first_name,s=a.last_name,r=a.username,a.password,n=a.email,c=a.role,l=a.gender,o=a.phone_number,d=a.status,u=a.state,m=a.city,b=a.address,p={first_name:t,last_name:s,username:r,email:n,role:c,gender:l,phone_number:o,status:d,state:u,city:m,address:b},f=Object(i.a)({id:V.length+Math.round(100*Math.random()),joining_date:(new Date).toJSON().slice(0,10).split("-").reverse().join("-"),last_seen:""},p),V.push(f),e.next=6,Promise.resolve({data:f,status:200});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),H=function(){var e=Object(S.a)(C.a.mark((function e(a){var t,s,r,n,c,l,o,i,d,u,m;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.id,t=a.first_name,s=a.last_name,r=a.username,n=a.email,c=a.role,l=a.gender,o=a.phone_number,i=a.status,d=a.state,u=a.city,m=a.address,{first_name:t,last_name:s,username:r,email:n,role:c,gender:l,phone_number:o,status:i,state:d,city:u,address:m},e.next=4,Promise.resolve({status:200});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),$=function(e,a){var t=V.find((function(a){return a.username===e}));return t?Promise.resolve({data:t,status:200}):Promise.resolve({status:403})},Z=function(){var e=Object(S.a)(C.a.mark((function e(a){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete a.password,delete a.confirm_password,t=Object(i.a)(Object(i.a)({id:V.length+1},a),{},{state:"",city:"",address:"",status:"non-active",joining_date:(new Date).toJSON().slice(0,10).split("-").reverse().join("-")}),V.push(t),e.abrupt("return",Promise.resolve({data:t,status:200}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Q=function(e){return Promise.resolve({status:["token1","token2","token3"].includes(e)?200:404})},ee=function(e){return V.find((function(a){return a.email===e}))?Promise.resolve({status:200}):Promise.resolve({state:401})},ae=t(12),te=t(13),se=t(77),re=t(55),ne=Object(se.createCustomEqual)((function(e){return function(a,t){return Object(re.a)(a)||a instanceof window.google.maps.LatLng||Object(re.a)(t)||t instanceof window.google.maps.LatLng?new window.google.maps.LatLng(a).equals(new window.google.maps.LatLng(t)):e(a,t)}}));function ce(e){var a=r.a.useRef();return ne(e,a.current)||(a.current=e),a.current}function le(e,a){for(var t=[],s=e;s<=a;s++)t.push(s);return t}function oe(e){var a=e.status,t=e.waitMsg,s=void 0===t?"Please Wait...":t,r=e.successMsg,n=e.errorMsg,c=void 0===n?"Network Error!":n,l=e.successCallback,i=e.errorCallback;if(a>=200&&a<300){var d=r&&o.b.loading(s);r&&o.b.update(d,{render:r,type:"success",isLoading:!1,autoClose:5e3}),"function"===typeof l&&l()}else{var u=o.b.loading(s);o.b.update(u,{render:c,type:"error",isLoading:!1,autoClose:5e3}),"function"===typeof i&&i()}}var ie=function(e){switch(e){case"day":return["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"];case"week":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["sun","mon","tue","wed","thu","fri","sat"],a=(new Date).getDay(),t=e.slice(0,a+1);return t.unshift.apply(t,Object(te.a)(e.slice(a+1))),t}();case"month":return function(e){for(var a=[],t=0;t<31&&(2!==e||28!==t)&&(!(e%2===0&&e<7||e%2!==0&&e>8)||30!==t);t++)a.push(t+1+"");return a}();case"year":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}};function de(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],s=/\.0+$|(\.[0-9]*[1-9])0+$/,r=t.slice().reverse().find((function(a){return e>=a.value}));return r?(e/r.value).toFixed(a).replace(s,"$1")+r.symbol:"0"}function ue(e,a){e=e.split(".");var t,s=Object(ae.a)(e);try{for(s.s();!(t=s.n()).done;){a=a[t.value]}}catch(r){s.e(r)}finally{s.f()}return a}var me=function(e){var a=e.title,t=e.children,r=e.redirect,n=Object(y.g)();return Object(s.useEffect)((function(){window.setTimeout((function(){n.push(r.link)}),5e3)}),[]),Object(_.jsxs)("section",{className:"animate__animated animate__fadeIn",children:[Object(_.jsxs)("h2",{className:"text-2xl text-center font-bold mt-20 mb-5 capitalize",children:[Object(_.jsx)("i",{className:"text-shadow fas fa-check-circle text-green mr-1"})," ",a]}),Object(_.jsx)("p",{className:"text-gray-500 text-center text-xl",children:t}),r&&Object(_.jsxs)("p",{className:"bg-white rounded shadow-md p-5 mt-10 text-center",children:["You will be redirected within 5 seconds to"," ",Object(_.jsx)("a",{href:r.link,children:r.pageName}),"."]})]})},be=function(){var e=Object(l.f)({email:"",confirm_email:""}),a=Object(l.f)(!1);return Object(_.jsx)("div",{className:"mt-10 mx-auto ".concat(a.value?"max-w-xl":"w-96"),children:a.value?Object(_.jsx)(me,{title:"we send password reset link into your email inbox, go check it out!",redirect:{link:"/login",pageName:"Login Page"}}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(P,{name:"Forget My Password"}),Object(_.jsxs)(M,{submitBtn:{label:"Send Reset Link",faClass:"fas fa-paper-plane"},footerLink:{link:"/sign-up",content:"Don't have an account? Signup now"},onSubmit:Object(S.a)(C.a.mark((function t(){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(e.email.get());case 2:s=t.sent,oe({status:s.status,successMsg:"We send password reset link to your email, go and check it out!",successCallback:function(){a.set(!0)},errorMsg:"There is no account registerated with this email!"});case 5:case"end":return t.stop()}}),t)}))),children:[Object(_.jsxs)(D,{className:"text-smd",children:[Object(_.jsx)("strong",{children:"Note:"})," You will receive reset link in your email inbox to reset your password to new one."]}),Object(_.jsx)(z,{name:"email",label:"email",id:"email",type:"email",value:e.email,placeholder:"e.g. example@example.com",icon:"fas fa-at",required:!0}),Object(_.jsx)(z,{name:"confirm_email",label:"confirm email",id:"confirm_email",type:"email",value:e.confirm_email,placeholder:"e.g. example@example.com",pattern:e.email.value,icon:"fas fa-check-double",escapePattern:!0,required:!0})]})]})})},pe=["value","confirmation"],fe=function(e){var a=e.value,t=e.confirmation,s=Object(F.a)(e,pe);return Object(_.jsx)(z,Object(i.a)({name:"password",label:"password",id:"password",type:"password",value:a,placeholder:"************",icon:t?"fas fa-check-double":"fas fa-unlock-alt",minLength:"6",maxLength:"20",pattern:t,escapePattern:!0,required:!0},s))},je=["value"],he=function(e){var a=e.value,t=Object(F.a)(e,je);return Object(_.jsx)(z,Object(i.a)({name:"username",label:"username",id:"username",value:a,placeholder:"e.g. Ahmed",icon:"fas fa-user",minLength:"2",maxLength:"20",pattern:"\\w+",required:!0},t))},xe=[{id:1,name:"CVS Pharmacy",pharmacy_id:1,branch:"Omdurman Branch",phone_numbers:["+249965474730","+249184757530"],email:"cvs-pharma@cvs-pharma.com",website:"http://www.cvs-pharma.com",state:"khartoum",city:"omdurman",address:"Alwadi Street, near alrowda hospital",lat:12.4034,lng:42.4493,created_at:"24-09-2021 12:34:03 PM",status:"active",owned_by:{id:2,name:"Mustafa Salah"},support_delivery:!1,delivery_cost:0,vat:0,payment_options:{mbok:{account_no:"5678293",account_owner_name:"Mustafa Salah Mustafa",bank_branch_name:"sabren"},atm_card:{card_no:"",card_owner_name:"",bank_name:""}}},{id:2,name:"CVS Pharmacy",pharmacy_id:1,branch:"Khartoum Branch",phone_numbers:["+249965474722","+249184757223"],email:"cvs-pharma@cvs-pharma.com",website:"http://www.cvs-pharma.com",state:"khartoum",city:"khartoum",address:"Al khartoum 2, near Ozone",lat:11.7474,lng:33.4794,created_at:"03-08-2021 22:04:02 PM",status:"pending",owned_by:{id:2,name:"Mustafa Salah"},support_delivery:!1,delivery_cost:0,vat:0,payment_options:{mbok:{account_no:"",account_owner_name:"",bank_branch_name:""},atm_card:{card_no:"",card_owner_name:"",bank_name:""}}},{id:3,name:"CVS Pharmacy",pharmacy_id:1,branch:"Bhary Branch",phone_numbers:["+249965474441","+249184757990"],email:"cvs-pharma@cvs-pharma.com",website:"http://www.cvs-pharma.com",state:"khartoum",city:"bhary",address:"Al moasasha",lat:51.784,lng:23.444,created_at:"01-08-2021 02:33:42 PM",status:"rejected",owned_by:{id:2,name:"Mustafa Salah"},support_delivery:!1,delivery_cost:0,vat:0,payment_options:{mbok:{account_no:"",account_owner_name:"",bank_branch_name:""},atm_card:{card_no:"",card_owner_name:"",bank_name:""}}}],ve=function(e){var a=e.id,t={branch:e.branch,phone_numbers:e.phone_numbers,email:e.email,website:e.website,state:e.state,city:e.city,address:e.address,lat:+e.lat,lng:+e.lng,status:"pending"},s=xe.find((function(e){return e.id===a}));return s&&(s=Object.assign(s,t)),Promise.resolve({data:s,status:200})},ge=function(e,a){var t=e.name,s=e.branch,r=e.phone_numbers,n=e.email,c=e.website,l=e.state,o=e.city,i=e.address,d=e.lat,u=e.lng,m={id:xe.length+1,name:t,pharmacy_id:xe.length+Math.round(100*Math.random()),branch:s,phone_numbers:Object(te.a)(r),email:n,website:c,state:l,city:o,address:i,lat:+d,lng:+u,created_at:(new Date).toJSON(),status:"pending",owned_by:{id:a.id,name:a.name},support_delivery:!1,delivery_cost:0,vat:0,payment_options:{mbok:{account_no:"",account_owner_name:"",bank_branch_name:""},atm_card:{card_no:"",card_owner_name:"",bank_name:""}}};return xe.push(m),Promise.resolve({data:m,status:200})},Oe=function(e){var a=e.pharmacy_id,t=e.name,s=e.branch,r=e.phone_numbers,n=e.email,c=e.website,l=e.state,o=e.city,i=e.address,d=e.lat,u=e.lng,m={id:xe.length+Math.round(100*Math.random()),name:t,pharmacy_id:a,branch:s,phone_numbers:Object(te.a)(r),email:n,website:c,state:l,city:o,address:i,lat:+d,lng:+u,created_at:(new Date).toJSON(),status:"pending",owned_by:{id:O.loggedUser.id.get(),name:"".concat(O.loggedUser.first_name.get()," ").concat(O.loggedUser.last_name.get())},support_delivery:!1,delivery_cost:0,vat:0,payment_options:{mbok:{account_no:"",account_owner_name:"",bank_branch_name:""},atm_card:{card_no:"",card_owner_name:"",bank_name:""}}};return xe.push(m),Promise.resolve({data:m,status:200})},ye=function(e){return Promise.resolve({data:xe.filter((function(a){return a.owned_by.id===e})),status:200})},we=function(e){var a=xe.find((function(a){return a.owned_by.id===+e}));if(void 0===a)return Promise.reject({status:404});var t=a.pharmacy_id,s=a.name,r=a.email,n=a.website;return Promise.resolve({data:{pharmacy_id:t,name:s,email:r,website:n},status:200})},_e=function(e){return xe=xe.filter((function(a){return a.id!==e})),Promise.resolve({data:{id:e},status:200})},Ne=function(){var e=Object(S.a)(C.a.mark((function e(a,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve({data:{status:t},status:200});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(l.f)(O),a=e.loggedUser,t=e.pharmacyBranch,s=Object(l.f)({username:"",password:""}),r=Object(y.g)(),n=function(){var e=Object(S.a)(C.a.mark((function e(a){var s,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.id,e.prev=1,e.next=4,Promise.resolve({data:xe[0],status:200});case 4:return s=e.sent,r=s.data,t.set(r),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e.catch(1),o.b.error("There is no pharmacy branch assigned to this employee!");case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:"mt-10 w-96 mx-auto",children:[Object(_.jsx)(P,{name:"Login"}),Object(_.jsxs)(M,{submitBtn:{label:"Login",faClass:"fas fa-sign-in-alt"},footerLink:{link:"/sign-up",content:"Don't have an account? Signup now"},onSubmit:Object(S.a)(C.a.mark((function e(){var t,c,l,i,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.get(),c=t.username,t.password,e.next=3,$(c);case 3:if(l=e.sent,i=l.data,200!==(d=l.status)){e.next=17;break}if("supervisor"!==i.role&&"pharmacist"!==i.role){e.next=15;break}return e.next=10,n(i);case 10:if(e.t0=e.sent,!1!==e.t0){e.next=13;break}return e.abrupt("return");case 13:e.next=17;break;case 15:if("user"!==i.role){e.next=17;break}return e.abrupt("return",o.b.error("You don't have permission to access."));case 17:oe({status:d,waitMsg:"Logging you in...",successMsg:i?Object(_.jsxs)(_.Fragment,{children:["Welcome Back"," ",Object(_.jsxs)("strong",{className:"font-semibold",children:[i.first_name," ",i.last_name,"!"]})]}):"",successCallback:function(){return Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.set(i),r.replace("/");case 2:case"end":return e.stop()}}),e)})))()},errorMsg:"The username or the password is incorrect, please try again",errorCallback:function(){s.password.set("")}});case 18:case"end":return e.stop()}}),e)}))),children:[Object(_.jsx)(he,{value:s.username}),Object(_.jsx)(fe,{value:s.password}),Object(_.jsx)(w.b,{to:"/forget-password",className:"text-xs italic -mt-2.5",children:"Forgetten password?"})]})]})},Ce=function(){var e=Object(l.f)({password:"",confirm_password:""}),a=Object(l.f)(!1),t=Object(y.i)().token,r=Object(y.g)();return Object(s.useEffect)((function(){Object(S.a)(C.a.mark((function e(){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:a=e.sent,200!==a.status&&r.replace("/forget-password");case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(_.jsx)("div",{className:"mt-10 mx-auto ".concat(a.value?"max-w-xl":"w-96"),children:a.value?Object(_.jsx)(me,{title:"your password has been reset successfully!",redirect:{link:"/login",pageName:"Login Page"}}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(P,{name:"Reset My Password"}),Object(_.jsxs)(M,{submitBtn:{label:"Reset My Password",faClass:"fas fa-redo"},footerLink:{link:"/sign-up",content:"Don't have an account? Signup now"},onSubmit:Object(S.a)(C.a.mark((function t(){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.password.get(),Promise.resolve({status:401});case 2:s=t.sent,oe({status:s.status,successCallback:function(){a.set(!0)},errorMsg:"This link to reset password is invalid! you will be redirected to forget password page.",errorCallback:function(){window.setTimeout((function(){return r.replace("/forget-password")}),5e3)}});case 5:case"end":return t.stop()}}),t)}))),children:[Object(_.jsx)(fe,{label:"new password",value:e.password}),Object(_.jsx)(fe,{name:"confirm_password",label:"confirm new password",id:"confirm_password",value:e.confirm_password,confirmation:e.password.value})]})]})})},Se=function(e){var a=e.label,t=e.icon,s=e.title,r=e.onSelect;return Object(_.jsxs)("button",{className:"group animate__animated animate__faster animate__zoomIn",title:s,onClick:r,children:[Object(_.jsx)("span",{className:"text-shadow block bg-white text-primary group-hover:text-white group-hover:bg-primary shadow-md rounded py-10 text-center w-36",children:Object(_.jsx)("i",{className:"".concat(t," text-5xl transition-none")})}),Object(_.jsx)("strong",{className:"text-shadow mt-3 font-semibold inline-block group-hover:text-primary",children:a})]})},Pe=t(14),Ae=t(78),Me=["children","style","onClick","onIdle","onDrag"],De=function(e){var a,t,n=e.children,c=(e.style,e.onClick),l=e.onIdle,o=e.onDrag,i=Object(F.a)(e,Me),d=Object(s.useRef)(null),u=Object(s.useState)(),m=Object(Pe.a)(u,2),b=m[0],p=m[1];return Object(s.useEffect)((function(){d.current&&!b&&p(new window.google.maps.Map(d.current,i))}),[d,b]),a=function(){b&&b.setOptions(i)},t=[b,i],r.a.useEffect(a,t.map(ce)),Object(s.useEffect)((function(){b&&(["click","idle"].forEach((function(e){return window.google.maps.event.clearListeners(b,e)})),c&&b.addListener("click",c),l&&b.addListener("idle",(function(){return l(b)})))}),[b,c,l,o]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{ref:d,className:"w-full h-80 shadow-md rounded"}),r.a.Children.map(n,(function(e){if(r.a.isValidElement(e))return r.a.cloneElement(e,{map:b})}))]})},Fe=function(e){var a=Object(s.useState)(),t=Object(Pe.a)(a,2),r=t[0],n=t[1];return Object(s.useEffect)((function(){return r||n(new window.google.maps.Marker),function(){r&&r.setMap(null)}}),[r]),Object(s.useEffect)((function(){r&&r.setOptions(e)}),[r,e]),null},qe=function(e){var a=e.label,t=void 0===a?"Location":a,r=e.className,n=e.required,c=void 0===n||n,l=e.coordinates,o=e.immutable,i=void 0!==o&&o,d=e.initZoom,u=void 0===d?10:d,m={lat:l.lat.get(),lng:l.lng.get()},b=Object(s.useState)(u),p=Object(Pe.a)(b,2),f=p[0],j=p[1];return Object(_.jsxs)("div",{className:r,children:[Object(_.jsxs)("label",{className:"mb-2 block font-medium capitalize",children:[t,c?Object(_.jsx)("span",{className:"text-red ml-0.5",children:"*"}):void 0]}),Object(_.jsx)(Ae.Wrapper,{apiKey:"AIzaSyBAnn3NbbCpXNdOS313q5Ic2oOfP-69pus",render:function(e){return Object(_.jsx)("h1",{children:"FAILURE"===e?"No Internet Connection!":e})},children:Object(_.jsx)(De,{center:m,zoom:f,onClick:i||function(e){var a=e.latLng;l.lat.set(a.lat),l.lng.set(a.lng)},onIdle:function(e){j(e.getZoom())},children:Object(_.jsx)(Fe,{position:m})})})]})},Ie=function(e){return Object(_.jsx)(z,Object(i.a)({label:"phone number",name:"phone_number",type:"tel",maxLength:"13",pattern:"\\+?249[19]\\d{8}",placeholder:"e.g. +2499XXXXXXXX",icon:"fas fa-phone"},e))},Ee=function(e){var a=e.formState,t=e.onSubmit;return Object(_.jsxs)(M,{submitBtn:{label:"Submit Pharmacy Information",faClass:"fas fa-paper-plane",className:"w-72 mx-auto-important block"},footerLink:{link:"/login",content:"Do you have an account? Login now"},className:"grid grid-cols-2 gap-6",onSubmit:t,children:[Object(_.jsx)(z,{name:"pharmacy_name",label:"pharmacy name",id:"pharmacy_name",value:a.name,placeholder:"e.g. CVS Pharmacy",minLength:"2",required:!0}),Object(_.jsx)(z,{name:"branch_name",label:"branch name",id:"branch_name",value:a.branch,placeholder:"e.g. Khartoum Branch"}),Object(_.jsx)(Ie,{name:"phone_number_1",label:"phone number 1",id:"phone_number_1",value:a.phone_numbers[0],required:!0}),Object(_.jsx)(Ie,{name:"phone_number_2",label:"phone number 2",id:"phone_number_2",value:a.phone_numbers[1]}),Object(_.jsx)(z,{name:"pharmacy_email",label:"pharmacy email",id:"pharmacy_email",type:"email",value:a.email,placeholder:"e.g. examle@example.com",icon:"fas fa-envelope"}),Object(_.jsx)(z,{name:"pharmacy_website",label:"pharmacy website",id:"pharmacy_website",value:a.website,type:"url",placeholder:"e.g. www.example.com",icon:"fas fa-globe"}),Object(_.jsx)(z,{label:"state",name:"state",type:"select",id:"state",value:a.state,options:[{label:"Khartoum",value:"khartoum"}],required:!0}),Object(_.jsx)(z,{name:"city",label:"city",id:"city",value:a.city,type:"select",options:[{label:"Khartoum",value:"khartoum"},{label:"Omdurman",value:"omdurman"},{label:"Bhary",value:"bhary"}],placeholder:"city name here...",required:!0}),Object(_.jsx)(z,{className:"col-span-2",label:"address",name:"address",id:"address",value:a.address,placeholder:"address line here...",required:!0}),Object(_.jsx)(qe,{className:"col-span-2",coordinates:{lat:a.lat,lng:a.lng},initZoom:9})]})},Le=function(e){var a=e.formState,t=e.onSubmit;return Object(_.jsxs)(M,{submitBtn:{label:"Create Account",faClass:"fas fa-user-plus",className:"w-72 mx-auto-important block"},footerLink:{link:"/login",content:"Do you have an account? Login now"},className:"grid grid-cols-2 gap-6",onSubmit:t,children:[Object(_.jsx)(z,{name:"first_name",label:"first name",id:"firstname",value:a.first_name,placeholder:"e.g. Mustafa",minLength:"2",maxLength:"20",pattern:"[^\\d\\s]+",required:!0}),Object(_.jsx)(z,{name:"last_name",label:"last name",id:"lastname",value:a.last_name,placeholder:"e.g. Salah",minLength:"2",maxLength:"20",pattern:"[^\\d\\s]+",required:!0}),Object(_.jsx)(he,{value:a.username,required:!0}),Object(_.jsx)(z,{name:"email",label:"email",id:"email",type:"email",value:a.email,placeholder:"e.g. examle@example.com",icon:"fas fa-envelope",required:!0}),Object(_.jsx)(fe,{value:a.password,required:!0}),Object(_.jsx)(fe,{name:"confirm_password",label:"confirm password",id:"confirm_password",value:a.confirm_password,confirmation:a.password.value,icon:"fas fa-check-double",required:!0}),Object(_.jsx)(Ie,{id:"phone_number",value:a.phone_number,required:!0}),Object(_.jsx)(z,{name:"gender",label:"gender",id:"gender",type:"radio",value:a.gender,options:[{label:"Male",value:"m"},{label:"Female",value:"f"}]})]})},Be=function(e){var a=e.steps,t=e.currentStep;return Object(_.jsxs)("div",{className:"my-10 animate__animated animate__faster animate__backInDown",children:[Object(_.jsx)("div",{className:"flex items-center mb-3 px-8",children:a.map((function(e,s){var r=s+1;return a.length-1!==s?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"".concat(2===t.value&&1===r?"cursor-pointer":""," select-none shadow w-10 h-10 inline-block rounded-full text-white text-xl text-center font-semibold leading-10 ").concat(r<=t.value?"bg-primary":"bg-bright"),onClick:function(){2===t.value&&1===r&&t.set(1)},children:r}),Object(_.jsx)("span",{className:"select-none h-2 flex-grow shadow ".concat(r<t.value?"bg-primary":"bg-gray-200")})]}):Object(_.jsx)("span",{className:"text-shadow select-none shadow w-10 h-10 inline-block rounded-full text-white text-xl text-center font-semibold leading-10 ".concat(r<=t.value?"bg-primary":"bg-bright"),children:r})}))}),Object(_.jsx)("div",{className:"flex items-center justify-around",children:a.map((function(e,s){var r=s+1;return Object(_.jsx)("span",{className:"capitalize font-semibold w-1/".concat(a.length," text-smd ").concat(r<=t.value?"":"text-gray-500"," ").concat(r>1&&r<a.length?"text-center":r===a.length?"text-right":""),children:e})}))})]})},Te=function(){var e=Object(l.f)({type:"",step:1}),a=Object(l.f)({first_name:"",last_name:"",username:"",password:"",confirm_password:"",email:"",phone_number:"",gender:""}),t=Object(l.f)({name:"",branch:"",phone_numbers:["",""],email:"",website:"",state:"khartoum",city:"",address:"",lat:15.4838,lng:32.5339}),r=Object(s.useRef)(),n=Object(s.useCallback)((function(){var s=e.type,n=e.step;switch(""===s.get()&&n.get()>1&&n.set(1),n.value){case 1:return Object(_.jsxs)("div",{className:"flex justify-center gap-x-10 mb-10",children:[Object(_.jsx)(Se,{label:"Customer",icon:"fas fa-hospital-user",title:"Sign up as normal user",onSelect:function(){s.set("user"),n.set(2)}}),Object(_.jsx)(Se,{label:"Pharmacy Owner",icon:"fas fa-clinic-medical",title:"Sign up as pharmacy owner",onSelect:function(){s.set("pharmacy owner"),n.set(2)}})]});case 2:return Object(_.jsx)(Le,{formState:a,haveNextBtn:"pharmacy owner"===s.value,onSubmit:Object(S.a)(C.a.mark((function e(){var t,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(Object(i.a)({role:s.value},a.get()));case 2:t=e.sent,c=t.data,oe({status:t.status,successMsg:"pharmacy owner"===s.value?"Your account has been created successfully!":"",successCallback:function(){"pharmacy owner"===s.value?(r.current={id:c.id,name:"".concat(c.first_name," ").concat(c.last_name)},n.set(3)):n.set(4)}});case 6:case"end":return e.stop()}}),e)})))});case 3:return Object(_.jsx)(Ee,{formState:t,onSubmit:Object(S.a)(C.a.mark((function e(){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t.get(),r.current);case 2:a=e.sent,a.data,oe({status:a.status,successCallback:function(){n.set(4)}});case 6:case"end":return e.stop()}}),e)})))});case 4:return Object(_.jsx)(me,{title:"Your are Signed up Successfully!",redirect:{link:"/login",pageName:"Login Page"},children:"You will be receiving an activation link into your email to activate your account."})}}),[e.value]);return Object(_.jsxs)("div",{className:"mt-10 max-w-xl mx-auto",children:[4!==e.step.value&&Object(_.jsx)(P,{name:"Signup"}),""!==e.type.value&&e.step.value>1&&Object(_.jsx)(Be,{steps:"user"===e.type.value?["select account type","fill account info","sign up done!"]:["select account type","fill account info","fill pharmacy info","sign up done!"],currentStep:e.step}),n()]})},ze=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("main",{className:"border border-trans",style:{minHeight:"calc(100vh - 77px)"},children:[Object(_.jsx)("div",{className:"w-56 mx-auto mt-10",children:Object(_.jsx)(w.b,{to:"/",children:Object(_.jsx)("img",{src:"/assets/images/logo-2.svg",alt:"Pharma Logo"})})}),Object(_.jsxs)(y.d,{children:[Object(_.jsx)(y.b,{path:"/forget-password",component:be}),Object(_.jsx)(y.b,{path:"/reset-password/:token",component:Ce}),Object(_.jsx)(y.b,{path:"/login",component:ke}),Object(_.jsx)(y.b,{path:"/sign-up",component:Te}),Object(_.jsx)(y.a,{to:"/login"})]})]}),Object(_.jsx)(N,{})]})},Re=[{id:1,full_name:"Mustafa Salah",username:"mustafa_salah",phone_number:"+249965474730",gender:"m",status:"approve",role:"pharmacy owner",work_from:"",work_to:"",last_seen:"4 hours ago",joining_date:"12-10-2019"},{id:2,full_name:"Ali Osman Adel",username:"ali_osman",phone_number:"+249125474650",gender:"m",status:"approve",role:"supervisor",work_from:"15:00",work_to:"21:00",last_seen:"online",joining_date:"10-02-2020"},{id:3,full_name:"Sarah Mohamed",username:"sarah99",phone_number:"+249121297730",gender:"f",status:"approve",role:"pharmacist",work_from:"07:00",work_to:"15:00",last_seen:"18 hours ago",joining_date:"22-05-2020"}],Ue=function(e){return Promise.resolve({data:Re,status:200})},Je=function(){var e=Object(S.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Re=Re.filter((function(e){return e.id!==a})),e.abrupt("return",Promise.resolve({data:{id:a},status:200}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ve=function(e){var a={pharmacyBranchId:1,full_name:e.full_name,username:e.username,phone_number:e.phone_number,gender:e.gender,role:e.role,work_from:e.work_from,work_to:e.work_to},t=Object(i.a)({id:Re.length+Math.round(100*Math.random()),joining_date:(new Date).toJSON().slice(0,10).split("-").reverse().join("-"),last_seen:"",status:"pending"},a);return Re.push(t),Promise.resolve({data:t,status:200})},Ge=function(e){var a=e.id,t=e.full_name,s=e.username,r=e.phone_number,n=e.gender,c=e.last_seen,l=e.joining_date,o={id:a,full_name:t,username:s,phone_number:r,gender:n,role:e.role,work_from:e.work_from,work_to:e.work_to,joining_date:l,last_seen:c};return Promise.resolve({data:o,status:200})},We=[{id:1,name:"Diarrhoea. Relief - Loperamide Capsules",barcode:"1237980133840942",unit:"6 Capsules",category:"antibiotics",company:"Diarrhoea",photo:"/assets/images/5.jpg",cost:1e3,price:1200,supplier:"AbdAlaziz Medical",stock:255,reserved:3,arrival_date:"2021-09-12",expire_date:"2021-12-12",online_order:!0},{id:2,name:"Ovex Family Pack Tablets",barcode:"358982077023700",unit:"4x 100mg Tablets",category:"antibiotics",company:"Ovex",photo:"/assets/images/3.jpg",cost:1200,price:1400,supplier:"Abo Alra",stock:95,reserved:1,arrival_date:"2021-12-22",expire_date:"2022-05-22",online_order:!0},{id:3,name:"ORS Rehydration Salts Lemon",barcode:"2783904982340234",unit:"12 Tablets",category:"antibiotics",company:"ORS",photo:"/assets/images/2.jpg",cost:300,price:450,supplier:"Abo Alra",stock:34,reserved:0,arrival_date:"2021-11-12",expire_date:"2022-04-12",online_order:!0},{id:4,name:"Flarin Ibuprofen 200mg Capsules",barcode:"89348395759942",unit:"12 Soft Capsules",category:"antianxiety drugs",company:"Flarin",photo:"/assets/images/1.jpg",cost:1e3,price:1150,supplier:"AbdAlaziz Medical",stock:0,reserved:0,arrival_date:"2021-09-02",expire_date:"2021-12-02",online_order:!1},{id:5,name:"Anadin Extra Caplets",barcode:"78498475784922",unit:"6 Capsules",category:"antibacterials",company:"Anadin",photo:"/assets/images/4.jpg",cost:600,price:800,supplier:"Pharma Medical",stock:200,reserved:0,arrival_date:"2021-06-29",expire_date:"2021-12-29",online_order:!0},{id:6,name:"Diarrhoea. Relief - Loperamide Capsules",barcode:"1237980133840942",unit:"6 Capsules",category:"antibiotics",company:"Diarrhoea",photo:"/assets/images/5.jpg",cost:1e3,price:1200,supplier:"AbdAlaziz Medical",stock:255,reserved:3,arrival_date:"2021-09-12",expire_date:"2021-12-12",online_order:!0},{id:7,name:"Ovex Family Pack Tablets",barcode:"1237d3434340942",unit:"4x 100mg Tablets",category:"antibiotics",company:"Ovex",photo:"/assets/images/3.jpg",cost:1200,price:1400,supplier:"Abo Alra",stock:95,reserved:1,arrival_date:"2021-12-22",expire_date:"2022-05-22",online_order:!0},{id:8,name:"ORS Rehydration Salts Lemon",barcode:"2783904982340234",unit:"12 Tablets",category:"antibiotics",company:"ORS",photo:"/assets/images/2.jpg",cost:300,price:450,supplier:"Abo Alra",stock:34,reserved:0,arrival_date:"2021-11-12",expire_date:"2022-04-12",online_order:!0},{id:9,name:"Flarin Ibuprofen 200mg Capsules",barcode:"89348395759942",unit:"12 Soft Capsules",category:"antianxiety drugs",company:"Flarin",photo:"/assets/images/1.jpg",cost:1e3,price:1150,supplier:"AbdAlaziz Medical",stock:0,reserved:0,arrival_date:"2021-09-02",expire_date:"2021-12-02",online_order:!1},{id:10,name:"Anadin Extra Caplets",barcode:"78498475784922",unit:"6 Capsules",category:"antibacterials",company:"Anadin",photo:"/assets/images/4.jpg",cost:600,price:800,supplier:"Pharma Medical",stock:200,reserved:0,arrival_date:"2021-06-29",expire_date:"2021-12-29",online_order:!0},{id:11,name:"Diarrhoea. Relief - Loperamide Capsules",barcode:"1237980133840942",unit:"6 Capsules",category:"antibiotics",company:"Diarrhoea",photo:"/assets/images/5.jpg",cost:1e3,price:1200,supplier:"AbdAlaziz Medical",stock:255,reserved:3,arrival_date:"2021-09-12",expire_date:"2021-12-12",online_order:!0},{id:12,name:"Ovex Family Pack Tablets",barcode:"582st32",unit:"4x 100mg Tablets",category:"antibiotics",company:"Ovex",photo:"/assets/images/3.jpg",cost:1200,price:1400,supplier:"Abo Alra",stock:95,reserved:1,arrival_date:"2021-12-22",expire_date:"2022-05-22",online_order:!0},{id:13,name:"ORS Rehydration Salts Lemon",barcode:"2783904982340234",unit:"12 Tablets",category:"antibiotics",company:"ORS",photo:"/assets/images/2.jpg",cost:300,price:450,supplier:"Abo Alra",stock:34,reserved:0,arrival_date:"2021-11-12",expire_date:"2022-04-12",online_order:!0},{id:14,name:"Flarin Ibuprofen 200mg Capsules",barcode:"89348395759942",unit:"12 Soft Capsules",category:"antianxiety drugs",company:"Flarin",photo:"/assets/images/1.jpg",cost:1e3,price:1150,supplier:"AbdAlaziz Medical",stock:0,reserved:0,arrival_date:"2021-09-02",expire_date:"2021-12-02",online_order:!1},{id:15,name:"Anadin Extra Caplets",barcode:"78498475784922",unit:"6 Capsules",category:"antibacterials",company:"Anadin",photo:"/assets/images/4.jpg",cost:600,price:800,supplier:"Pharma Medical",stock:200,reserved:0,arrival_date:"2021-06-29",expire_date:"2021-12-29",online_order:!0}],Ye=function(){var e=Object(S.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return We=We.filter((function(e){return e.id!==a})),e.abrupt("return",Promise.resolve({data:{id:a},status:200}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(S.a)(C.a.mark((function e(a){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{pharmacyBranchId:1,productId:a.productId,cost:a.cost,price:a.price,arrival_date:a.arrival_date,expire_date:a.expire_date,online_order:a.online_order,stock:a.stock,reserved:a.reserved,supplier:a.supplier},e.next=3,Promise.resolve({data:Object(i.a)({id:We.length+Math.round(100*Math.random())},a),status:200});case 3:return t=e.sent,We.push(t.data),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(S.a)(C.a.mark((function e(a){var t,s,r,n,c,l,o,i,d,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.id,s=a.cost,r=a.price,n=a.arrival_date,c=a.expire_date,l=a.online_order,o=a.stock,i=a.reserved,d=a.supplier,u={cost:s,price:r,arrival_date:n,expire_date:c,online_order:l,stock:o,reserved:i,supplier:d},e.next=4,J.put("https://jsonplaceholder.typicode.com/posts/".concat(t),u);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),He=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve({data:We,status:200});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=[{id:1,type:"new_order",data:{id:1,user:"Mustafa Salah"}},{id:2,type:"new_pharmacy",data:{id:3,name:"CVS Pharmacy",owner:"Mustafa Salah"}},{id:3,type:"new_branch",data:{id:3,name:"CVS Pharmacy",branch:"Bhary Branch",owner:"Mustafa Salah"}},{id:4,type:"out_of_stock",data:{id:1,name:"Diarrhoea. Relief - Loperamide Capsules"}},{id:5,type:"expire_soon",data:{id:2,name:"Ovex Family Pack Tablets",duration:10}},{id:6,type:"expired",data:{id:3,name:"ORS Rehydration Salts Lemon"}}],Ze=function(e){return $e=$e.filter((function(a){return a.id!==e})),Promise.resolve({status:200})},Qe=[{id:23820,type:"local",status:"finished",handled_by:{id:1,name:"Mustafa Salah"},date:"24-09-2021 12:34:03 PM",payment:{method:"Cash",proof:""},products:[{name:"Diarrhoea. Relief - Loperamide Capsules",qty:1,price:1200},{name:"Ovex Family Pack Tablets",qty:2,price:1400}],products_amount:5400,discount:0,vat:0,delivery:0},{id:12038,type:"online",status:"pending",handled_by:{id:"",name:""},date:"24-09-2021 12:34:03 PM",payment:{method:"MBOK",proof:"/assets/images/pay.jpg"},products:[{name:"ORS Rehydration Salts Lemon",qty:3,price:450}],products_amount:1350,discount:0,vat:0,delivery:2e3}],ea=function(){return Promise.resolve({data:Qe,status:200})},aa=function(e){var a=Object(i.a)({id:Qe.length+Math.round(100*Math.random()),payment:{method:"cash",proof:""},delivery:0},e);return Qe.push(a),Promise.resolve({data:a,status:200})},ta=function(e,a){var t=Qe.find((function(a){return a.id===e}));return void 0===t?Promise.reject({status:404}):(t.status=a,t.handled_by={id:O.loggedUser.id.get(),name:"".concat(O.loggedUser.first_name.get()," ").concat(O.loggedUser.last_name.get())},Promise.resolve({data:{status:a},status:200}))},sa=[{id:1,name:"Diarrhoea. Relief - Loperamide Capsules",barcode:"1237980133840942",unit:"6 Capsules",category:"antibiotics",company:"Diarrhoea",photo:{url:"/assets/images/5.jpg",size:123e3},ingredient:"loperamide hydrochloride",need_perspection:!1,description:"",usage:"",warnings:"",side_effects:""},{id:2,name:"Ovex Family Pack Tablets",barcode:"358982077023700",unit:"4x 100mg Tablets",category:"antibiotics",company:"Ovex",photo:{url:"/assets/images/3.jpg",size:86e3},ingredient:"mebendazole",need_perspection:!1,description:"Ovex Family Pack Tablets are a treatment for threadworms.\nIt can be taken by children as young as two years old and quickly works to irradicate threadworms. It is recommended that the treatment should be taken by the entire family at the same time.\nOvex Family tablets are to be taken orally.",usage:"Adults and children over 2 years: (excludes pregnant women)\n1 tablet chewed or swallowed whole. Not to be given under 2 years.",warnings:"Is not to be taken in pregnancy or by breastfeeding mothers.",side_effects:"Side effects are rare but should you experience any side effects report to your doctor or pharmacist."},{id:3,name:"ORS Rehydration Salts Lemon",barcode:"2783904982340234",unit:"12 Tablets",category:"antibiotics",company:"ORS",photo:{url:"/assets/images/2.jpg",size:52e3},ingredient:"",need_perspection:!1,description:"",usage:"",warnings:"",side_effects:""},{id:4,name:"Flarin Ibuprofen 200mg Capsules",barcode:"89348395759942",unit:"12 Soft Capsules",category:"antianxiety drugs",company:"Flarin",photo:{url:"/assets/images/1.jpg",size:66e3},ingredient:"Ibuprofen",need_perspection:!0,description:"",usage:"",warnings:"",side_effects:""},{id:5,name:"Anadin Extra Caplets",barcode:"78498475784922",unit:"6 Capsules",category:"antibacterials",company:"Anadin",photo:{url:"/assets/images/4.jpg",size:83e3},ingredient:"Aspirin, Paracetamol",need_perspection:!1,description:"",usage:"",warnings:"",side_effects:""}],ra=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve({data:sa,status:200});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),na=function(e){return sa=sa.filter((function(a){return a.id!==e})),Promise.resolve({data:{id:e},status:200})},ca=function(){var e=Object(S.a)(C.a.mark((function e(a){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve({data:Object(i.a)({id:sa.length+Math.round(100*Math.random())},a),status:200});case 2:return t=e.sent,sa.push(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),la=function(e){var a="";if(O.uploads.productPhoto.set((function(e){return a=e,e})),""!==a){var t=new FormData;return t.append("product_id",e),t.append("product_photo",a),Promise.resolve({status:200,data:{url:"/assets/images/6.jpg",size:12334}})}};var oa=function(e){var a=e.label,t=void 0===a?"Loading":a,s=e.className,r=void 0===s?"bg-gray-100 h-screen flex":s;return Object(_.jsx)("div",{className:r,children:Object(_.jsxs)("p",{className:"text-center m-auto",children:[Object(_.jsx)("i",{className:"fas fa-spinner text-primary animate-spin text-lg"}),Object(_.jsx)("strong",{className:"font-medium block mt-2",children:t})]})})},ia=function(e){var a=e.className,t=void 0===a?"collapse-btn":a,s=Object(l.f)(O).collapseMenu;return Object(_.jsx)("button",{title:s.value?"extend menu to its full size":"collapse menu to its minimum size",id:"collapse-btn",onClick:function(){var e=!s.value;s.set(e),localStorage.setItem("collapse_menu",e.toString())},className:t,children:Object(_.jsx)("i",{className:"fas fa-chevron-".concat(s.value?"right":"left")})})};var da=function(e){var a=e.className,t=void 0===a?"flex items-center py-6 border-b-2 border-r border-gray-200":a,s=e.withoutCollapseBtn,r=void 0!==s&&s,n=Object(l.f)(O).collapseMenu;return Object(_.jsxs)("div",{className:t,children:[Object(_.jsx)("div",{id:"logo",className:"px-6",children:Object(_.jsx)(w.b,{className:"block",to:"/",children:n.value&&!r?Object(_.jsx)("img",{src:"/assets/images/favicon.svg",alt:"Pharma Logo",style:{width:47,height:39.16}}):Object(_.jsx)("img",{src:"/assets/images/logo.svg",alt:"Pharma Logo",style:{width:178.5,height:37.19}})})}),!r&&!n.value&&Object(_.jsx)(ia,{})]})},ua=new Map([["/","Dashboard"],["/my-pharmacies","My Pharmacies"],["/inventory","Inventory"],["/pharmacies","Pharmacies"],["/products","Products"],["/orders","Orders"],["/pos","Point of Sale"],["/staff","Staff"],["/users","Users"],["/pharmacy-settings","Pharmacy Settings"],["/account-settings","Account Settings"]]);function ma(e){var a=e.link,t=void 0===a?"/":a,s=e.title;return Object(_.jsxs)("li",{children:[Object(_.jsx)("i",{className:"fas fa-chevron-right text-xs text-gray-300 mr-2"}),Object(_.jsx)(w.b,{to:t,className:"font-medium capitalize",children:s})]})}var ba=function(){var e=Object(y.h)().pathname;return e="/"+e.split("/")[1],Object(_.jsxs)("ul",{className:"text-sm inline-flex items-center h-full pl-10",children:[Object(_.jsx)("li",{children:Object(_.jsx)(w.b,{to:"/",children:Object(_.jsx)("i",{className:"fas fa-home text-primary mr-2"})})}),Object(_.jsx)(ma,{link:e,title:ua.get(e)})]})};var pa=function(){var e=Object(l.f)(O);return e.loggedUser,e.pharmacyBranch,Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("li",{className:"border-b-2 border-gray-200",children:Object(_.jsxs)(w.b,{to:"/account-settings",className:"px-5 py-4 font-semibold block hover:bg-gray-100",children:[Object(_.jsx)("i",{className:"fas fa-user-cog text-xs text-primary mr-2"}),"Account Settings"]})}),Object(_.jsx)("li",{children:Object(_.jsxs)("button",{className:"px-5 py-4 w-full text-left font-semibold block hover:bg-gray-100",onClick:function(e){window.confirm("Are you sure to logged out?")&&(O.set({}),g.merge(Object(i.a)({},v)))},children:[Object(_.jsx)("i",{className:"fas fa-sign-out-alt text-xs text-primary mr-2"}),"Logout"]})})]})};function fa(e){var a=e.content,t=Object(s.useRef)({new_pharmacy:"green",new_branch:"green-dark",out_of_stock:"red",expire_soon:"yellow",expired:"yellow-dark",new_order:"primary"}),r=Object(l.f)(O).notifications,n=a.id,c=a.type,o=a.data,i=Object(l.f)(!1),d="",u="";switch(c){case"new_pharmacy":d="/pharmacies/".concat(o.id),u=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("strong",{children:o.name})," send request to join Pharma Platform!"]});break;case"new_branch":d="/pharmacies/".concat(o.id),u=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("strong",{children:o.name})," send request to add it's new branch ",Object(_.jsx)("strong",{children:o.branch})," to Pharma Platform."]});break;case"new_order":d="/orders/".concat(o.id),u=Object(_.jsxs)(_.Fragment,{children:["New Order ",Object(_.jsxs)("strong",{children:["#",o.id]})," has been recevied from"," ",o.user]});break;case"expired":d="/inventory/".concat(o.id),u=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("strong",{children:o.name})," has expired!"]});break;case"expire_soon":d="/inventory/".concat(o.id),u=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("strong",{children:o.name})," will expire soon after"," ",o.duration," day."]});break;case"out_of_stock":d="/inventory/".concat(o.id),u=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("strong",{children:o.name})," has became out of stock!"]})}return Object(_.jsx)("li",{className:"border-b-2 border-gray-200 last:border-0 ".concat(i.value?"animate__animated animate__faster animate__fadeOutRight":""),children:Object(_.jsxs)(w.b,{to:d,className:"block relative px-5 py-4 hover:bg-gray-100",children:[Object(_.jsx)("button",{title:"clear the notification",className:"text-gray-300 hover:text-red hover:bg-gray-200 rounded px-2 py-1 absolute top-3 right-2 transition-none",onClick:function(e){e.preventDefault(),e.stopPropagation(),i.set(!0),window.setTimeout(Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(n);case 2:r.set((function(e){return e.filter((function(e){return e.id!==n}))}));case 3:case"end":return e.stop()}}),e)}))),500)},children:Object(_.jsx)("i",{className:"fas fa-times"})}),Object(_.jsx)("span",{className:"bg-".concat(t.current[c]," shadow capitalize py-0.5 px-2 inline-block mb-1.5 rounded-sm font-semibold text-xxs text-white"),children:c.replace(/_/g," ")}),Object(_.jsx)("p",{className:"font-medium text-gray-600",children:u})]})})}var ja=function(){var e=Object(l.f)(O).notifications;return Object(_.jsx)(_.Fragment,{children:e.map((function(e){return Object(_.jsx)(fa,{content:e.value},e.id.value)}))})};function ha(e){var a=e.children,t=e.submenu,s=e.onClick,r=e.active,n=e.className,c=void 0===n?"":n;return Object(_.jsxs)("li",{className:"relative",children:[Object(_.jsx)("button",{onClick:s,className:"border-l-2 border-gray-200 h-full px-8 font-semibold hover:bg-gray-100 hover:text-secondary ".concat(r?"bg-gray-100 text-secondary":""," ").concat(c),style:{transitionProperty:"background"},children:a}),t&&Object(_.jsx)("ul",{className:"absolute z-40 top-full border-t max-h-80 overflow-y-auto overflow-x-hidden border-gray-200 right-0 bg-white shadow-lg border-1 w-80 text-sm rounded-b transform origin-top-right transition-transform duration-500 scale-0".concat(r?" scale-100":""),children:t})]})}var xa=function(e){var a=e.withoutNotifications,t=void 0!==a&&a,r=Object(s.useState)(0),n=Object(Pe.a)(r,2),c=n[0],o=n[1],i=Object(l.e)(O),d=i.notifications,u=i.loggedUser,m=Object(y.h)(),b=Object(y.g)();return Object(_.jsxs)("ul",{className:"flex",children:[!t&&d.length>0&&Object(_.jsxs)(ha,{submenu:Object(_.jsx)(ja,{}),active:1===c,onClick:function(){return o(1===c?0:1)},children:[Object(_.jsx)("i",{className:"animate__animated animate__delay-2s animate__infinite animate__swing fas fa-bellfas fa-bell text-primary"}),0!==d.length&&Object(_.jsx)("span",{className:"rounded-full w-3.5 h-3.5 absolute bg-red top-7 right-5 text-xxs text-white",children:d.length})]}),"pharmacy owner"===u.role.get()&&Object(_.jsxs)(ha,{active:"/my-pharmacies"===m.pathname,onClick:function(){return b.push("/my-pharmacies")},children:[Object(_.jsx)("span",{children:"My Pharmacies"}),Object(_.jsx)("i",{className:"fas fa-clinic-medical ml-2 text-primary"})]}),u.id.ornull?Object(_.jsxs)(ha,{submenu:Object(_.jsx)(pa,{}),active:2===c,onClick:function(){return o(2===c?0:2)},children:[Object(_.jsx)("span",{children:"My Account"}),Object(_.jsx)("i",{className:"fas fa-user-circle ml-2 text-primary"})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(ha,{active:"/login"===m.pathname,onClick:function(){return b.push("/login")},children:[Object(_.jsx)("span",{children:"Login"}),Object(_.jsx)("i",{className:"fas fa-sign-in-alt ml-2 text-primary"})]}),Object(_.jsxs)(ha,{active:"/sign-up"===m.pathname,onClick:function(){return b.push("/sign-up")},className:"/sign-up"===m.pathname?"":"bg-primary group text-white",children:[Object(_.jsx)("span",{children:"Sign Up"}),Object(_.jsx)("i",{className:"fas fa-plus-square ml-2 group-hover:text-primary"})]})]})]})};var va=function(e){var a=e.withLogo,t=void 0!==a&&a,s=Object(l.f)(O).collapseMenu;return t?Object(_.jsxs)("header",{className:"h-21.5 bg-white shadow-md flex justify-between",children:[Object(_.jsx)(da,{className:"flex items-center w-64 h-full",withoutCollapseBtn:!0}),Object(_.jsx)(xa,{withoutNotifications:!0})]}):Object(_.jsxs)("div",{className:"h-21.5 transition-all bg-white shadow-md flex justify-between fixed z-30 top-0 ".concat(s.value?"left-24":"left-64"," right-0"),children:[Object(_.jsx)(ba,{}),Object(_.jsx)(xa,{})]})};var ga=function(e){var a=e.title,t=e.link,s=e.faClass,r=e.exact,n=void 0!==r&&r,c=Object(y.h)().pathname,o=n?c===t:c.startsWith(t),i=Object(l.f)(O).collapseMenu;return Object(_.jsx)("li",{children:Object(_.jsxs)(w.c,{to:t,activeClassName:"active-menu-item",className:"menu-item group ".concat(i.value?" justify-center px-5":""),exact:n,children:[Object(_.jsx)("i",{className:s+" "+(o?"active-":"")+"menu-item-icon"+(!o&&i.value?" mr-0":"")}),Object(_.jsx)("span",{className:"font-".concat(o?"":"semi","bold align-middle ").concat(i.value?"hidden":""),children:a}),Object(_.jsx)("i",{className:"fas\n                    fa-chevron-right\n                    ml-auto\n                    text-xs text-gray-300 ".concat(o?"":"hidden group-hover:block")})]})})};var Oa=function(){var e=Object(l.f)(O),a=e.loggedUser,t=e.collapseMenu,s=e.pharmacyBranch,r=a.role.get(),n=void 0!==s.id.value;return Object(_.jsx)("nav",{id:"main-nav",className:"text-sm",children:Object(_.jsxs)("ul",{children:[t.get()&&Object(_.jsx)("li",{children:Object(_.jsx)(ia,{className:"menu-item w-full justify-center transition-none text-gray-400 hover:bg-gray-100 hover:text-primary"})}),function(){var e=[];switch(r){case"admin":e.push(Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ga,{title:"Dashboard",faClass:"fas fa-tachometer-alt",link:"/",exact:!0},"dashboard"),Object(_.jsx)(ga,{title:"Products Catalog",faClass:"fas fa-boxes",link:"/products"},"products"),Object(_.jsx)(ga,{title:"Pharmacies",faClass:"fas fa-clinic-medical",link:"/pharmacies"},"pharmacies"),Object(_.jsx)(ga,{title:"Users",faClass:"fas fa-users",link:"/users"},"users")]}));break;case"pharmacy owner":if(!n){e.push(Object(_.jsx)(ga,{title:"My Pharmacies",faClass:"fas fa-clinic-medical",link:"/my-pharmacies"},"my-pharmacies"));break}case"supervisor":e.push(Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ga,{title:"Dashboard",faClass:"fas fa-tachometer-alt",link:"/",exact:!0},"dashboard"),Object(_.jsx)(ga,{title:"Point of Sale",faClass:"fas fa-cash-register",link:"/pos"},"pos"),Object(_.jsx)(ga,{title:"Orders",faClass:"fas fa-dolly",link:"/orders"},"orders"),Object(_.jsx)(ga,{title:"Inventory",faClass:"fas fa-boxes",link:"/inventory"},"inventory"),Object(_.jsx)(ga,{title:"Staff",faClass:"fas fa-user-tie",link:"/staff"},"staff")]}));break;case"pharmacist":e.push(Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ga,{title:"Point of Sale",faClass:"fas fa-cash-register",link:"/",exact:!0},"pos"),Object(_.jsx)(ga,{title:"Orders",faClass:"fas fa-dolly",link:"/orders"},"orders"),Object(_.jsx)(ga,{title:"Inventory",faClass:"fas fa-boxes",link:"/inventory"},"inventory")]}))}return"pharmacy owner"===r&&n&&e.push(Object(_.jsx)(ga,{title:"Pharmacy Settings",faClass:"fas fa-cogs",link:"/pharmacy-settings"},"pharmacy-settings")),e.push(Object(_.jsx)(ga,{title:"Account Settings",faClass:"fas fa-user-cog",link:"/account-settings"},"account-settings")),e}()]})})};var ya=function(){var e=Object(l.f)(O).collapseMenu;return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("header",{className:"h-screen ".concat(e.value?"w-24":"w-64"," bg-white shadow-lg overflow-hidden transition-all fixed top-0 left-0 z-10"),children:[Object(_.jsx)(da,{}),Object(_.jsx)(Oa,{})]})})};var wa=function(e){var a=e.label,t=void 0===a?"Search":a,s=e.placeholder,r=e.value;return Object(_.jsxs)("div",{className:"inline-block font-medium relative mr-5",children:[Object(_.jsx)("label",{htmlFor:t,className:"mr-2",children:t}),Object(_.jsx)("input",{id:t,className:"inline-block py-1.5 px-2 w-72 border border-gray-300 rounded-sm shadow focus:outline-none",type:"search",placeholder:s,value:r.get(),onChange:function(e){var a=e.target;return r.set(a.value)}}),Object(_.jsx)("i",{className:"fas fa-search absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-300"})]})};var _a=function(e){var a=e.label,t=e.value,s=e.options,r=e.className,n=void 0===r?"":r,c=e.wide,l=void 0!==c&&c;return Object(_.jsxs)("div",{className:"inline-block font-medium relative mr-5 last:mr-0 ".concat(n),children:[Object(_.jsx)("label",{htmlFor:a,className:"mr-2 align-middle",children:a}),Object(_.jsx)("select",{id:a,className:"inline-block py-1.5 px-2 ".concat(l?"w-36":"w-28"," border border-gray-300 rounded-sm shadow focus:outline-none"),value:t.get(),onChange:function(e){var a=e.target;return t.set(a.value)},children:s.map((function(e,a){return Object(_.jsx)("option",{value:e.value,children:e.label},a)}))})]})};var Na=function(e){var a=e.filters,t=e.data,s=e.pagination;return Object(_.jsxs)("div",{className:"text-xs mb-5",children:[Object(_.jsxs)("div",{className:"inline-block font-semibold",children:[Object(_.jsx)("i",{className:"fas fa-filter text-bright mr-1"})," Filters",Object(_.jsx)("span",{className:"mx-4",children:"|"})]}),a.map((function(e){return"search"===e.type?Object(_.jsx)(wa,{label:e.label,value:t[e.prop],placeholder:e.placeholder,onChange:e.onChange},e.label):Object(_.jsx)(_a,{label:e.label,value:t[e.prop],options:e.options,onChange:e.onChange,wide:e.wide},e.label)})),s&&Object(_.jsx)(_a,{label:"Items per Page",name:"items_per_page",className:"float-right",value:s.itemsPerPage,options:s.itemsPerPageOptions.get().map((function(e){return{label:e,value:e}}))})]})};var ka=function(e){var a=e.columns,t=e.sortColumn,s=t?t.columnName.get():"",r=t?t.order.get():"";return Object(_.jsx)("thead",{children:Object(_.jsx)("tr",{className:"rounded-t",children:a.map((function(e){var a,n=e.title,c=e.prop,l=e.sortProp,o=e.sortable;return void 0===t?o=a=!1:a=s===(l=l||c),Object(_.jsxs)("th",{className:"first:rounded-tl last:rounded-tr capitalize select-none ".concat(!1!==o?"cursor-pointer":""),onClick:function(){!1!==o&&t.set({columnName:l,order:a&&"desc"===r?"asc":"desc"})},children:[n,a&&Object(_.jsx)("i",{className:"ml-1 fas fa-sort-".concat("desc"===r?"down":"up")})]},n)}))})})};var Ca=function(e){var a=e.data,t=e.edited,s=void 0!==t&&t,r=e.form,n=e.columnsWidth,c=e.highlight,l=e.animate,o=void 0!==l&&l;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("tr",{className:"last:rounded-b ".concat(c?"highlighted":""," ").concat(o?"animate__animated animate__fadeIn":""),children:a.map((function(e,a){return Object(_.jsx)("td",{style:n[a]?{width:n[a]}:void 0,className:"first:rounded-bl last:rounded-br",children:e},a)}))}),s&&r&&Object(_.jsx)("tr",{className:"last:rounded-b",children:Object(_.jsx)("td",{colSpan:a.length,children:r})})]})};var Sa=function(e){var a=e.data,t=e.columns,r=e.form,n=e.animateRows,c=void 0!==n&&n,o=Object(y.j)().params,d=Object(l.f)(null),u=Object(l.f)(O).popupWindow;return Object(l.a)(d).label("edited_row"),Object(s.useEffect)((function(){o.id&&d.set(+o.id)}),[o.id]),Object(_.jsx)("tbody",{children:a.map((function(e){var a=d.get()===e.id.get();return Object(_.jsx)(Ca,{animate:c,highlight:o.id&&+o.id===e.id.get(),form:r&&r(e,(function(){return d.set(null)})),edited:a,columnsWidth:t.map((function(e){return e.width})),data:t.map((function(t){var s=t.prop,r=t.wrapper,n=t.defaultValue,c=void 0===n?"":n;return s?""===e[s].value?c:e[s].value:r(Object(i.a)(Object(i.a)({},e),{},{edited:a,handleEdit:function(e){d.set(e)},popupWindow:u,item:e}))}))},e.id.value)}))})};var Pa=function(e){var a=e.data,t=e.columns,s=e.form,r=e.sortColumn,n=e.animateRows;return 0===a.length?Object(_.jsx)("p",{className:"rounded shadow-lg bg-white mt-5 text-center text-gray-400 text-sm p-5 italic",children:"There is no data yet."}):Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("table",{children:[Object(_.jsx)(ka,{columns:t,sortColumn:r}),Object(_.jsx)(Sa,{columns:t,data:a,form:s,animateRows:n})]})})};var Aa=function(e){var a=e.paginationData,t=e.data,s=e.onPaginate,r=a.itemsPerPage.get(),n=a.length.get(),c=a.currentPage.get(),l=Math.ceil(t.length/r),o=c-Math.floor(n/2),i=(o=o<1?1:o)+n-1;return i=i>l?l:i,Object(_.jsx)("ol",{className:"float-right mt-6 text-sm",children:Object(_.jsxs)("li",{children:[o>1&&Object(_.jsx)("button",{className:"py-2 px-4 rounded-sm mr-1 last:mr-0 font-medium text-primary hover:text-secondary",onClick:function(){return s(1)},children:Object(_.jsx)("i",{className:"fas fa-angle-double-left"})}),le(o,i).map((function(e){return Object(_.jsx)("button",{className:"py-2 px-4 rounded-sm font-medium ".concat(+c===e?"bg-primary shadow-md text-white cursor-default":"hover:text-primary"),onClick:function(){return e!==+c?s(e):null},children:e},e)})),i<l&&Object(_.jsx)("button",{className:"py-2 px-4 rounded-sm mr-1 last:mr-0 font-medium text-primary hover:text-secondary",onClick:function(){return s(l)},children:Object(_.jsx)("i",{className:"fas fa-angle-double-right"})})]})})};var Ma=function(e){var a=e.columns,t=e.data,r=e.form,n=e.filters,c=e.filtersData,l=e.pagination,o=e.sortColumn,i=e.animateRows,d=Object(s.useMemo)((function(){return n?function(e,a,t){return t.filter((function(t){return e.every((function(e){var s=a[e.prop].get();if(""===s)return!0;var r=t[e.by].get();return"search"===e.type?-1!==r.toString().search(new RegExp(".*".concat(s,".*"),"i")):e.handler?e.handler(s,r):s===r}))}))}(n,c,t):t}),[n,c,t]),u=Object(s.useMemo)((function(){return o?function(e,a){var t=e.columnName,s=e.order;return t=t.get(),s=s.get(),a.sort((function(e,a){var r=ue(t,e).value,n=ue(t,a).value;return"desc"===s?r>=n?-1:1:r<=n?-1:1})),a}(o,d):d}),[o,d]),m=Object(s.useMemo)((function(){return l?function(e,a){var t=e.get(),s=t.currentPage,r=t.itemsPerPage,n=(s-1)*r,c=n+ +r;return a.slice(n,c)}(l,u):u}),[l,u]);return Object(_.jsxs)("div",{className:"animate__animated animate__fadeIn",children:[n&&Object(_.jsx)(Na,{filters:n,data:c,pagination:l}),Object(_.jsx)(Pa,{data:m,columns:a,sortColumn:o,form:r,animateRows:i}),l&&Object(_.jsx)(Aa,{paginationData:l,data:d,onPaginate:l.currentPage.set})]})},Da=function(e){var a=e.name,t=void 0===a?"":a,s=e.faClass,r=void 0===s?"":s,n=e.addButton,c=void 0!==n&&n,l=e.selectMenu,o=void 0!==l&&l,i=t.replace(" ","_");return Object(_.jsxs)("h2",{className:"flex items-center mb-4",children:[Object(_.jsxs)("span",{className:"font-bold text-xl",children:[Object(_.jsx)("i",{className:"text-shadow ".concat(r," text-primary mr-2")})," ",t]}),o&&Object(_.jsxs)("div",{className:"ml-auto text-gray-500 text-smd font-medium",children:[Object(_.jsx)("label",{htmlFor:i,children:o.label}),Object(_.jsx)("select",{id:i,value:o.value,onChange:o.onchange,className:"ml-3 text-xs rounded-sm bg-white shadow px-1.5 py-1",children:o.options.map((function(e){var a=e.label,t=e.value;return Object(_.jsx)("option",{value:t,children:a},t)}))})]}),c&&Object(_.jsxs)("button",{className:"ml-auto rounded-sm shadow-md bg-secondary font-semibold py-1.5 px-3 text-xs text-white hover:bg-primary",onClick:c.handler,children:[Object(_.jsx)("i",{className:"fas fa-plus mr-1.5"}),c.label]})]})},Fa=function(e){var a=e.onDelete,t=e.title,s=void 0===t?"Delete?":t;return Object(_.jsx)("button",{title:s,type:"button",className:"manage-btn bg-red text-red-light hover:text-red hover:bg-white",onClick:a,children:Object(_.jsx)("i",{className:"fas fa-trash-alt"})})},qa=function(e){var a=e.id,t=e.edited,s=e.onEdit,r=e.onDelete,n=e.onView;return Object(_.jsxs)("div",{className:"flex",children:[r&&Object(_.jsx)(Fa,{onDelete:function(){return r(a.value)}}),s&&Object(_.jsxs)("button",{title:"Edit?",className:"manage-btn  text-white ".concat(t?"bg-secondary":"bg-primary hover:bg-secondary"),onClick:function(){return s(t?null:a.value)},children:[Object(_.jsx)("i",{className:"fas fa-edit text-bright mr-1.5"}),Object(_.jsx)("span",{children:"Edit"}),Object(_.jsx)("i",{className:"fas fa-caret-".concat(t?"up":"down"," ml-1")})]}),n&&Object(_.jsxs)("button",{title:"View Detials?",className:"manage-btn text-white bg-primary hover:bg-secondary",onClick:n,children:[Object(_.jsx)("i",{className:"fas fa-file-invoice text-bright mr-1.5"}),Object(_.jsx)("span",{children:"View Detials"})]})]})},Ia=function(e){var a=e.id,t=e.name,s=e.photo,r=e.unit,n=e.edited,c=e.onEdit;return Object(_.jsxs)("div",{className:"flex items-center",children:[Object(_.jsx)("div",{className:"mr-3 bg-no-repeat bg-contain bg-center h-12 w-16 px-4 border border-gray-200 rounded-sm",style:{backgroundImage:"url('".concat(s,"')")}}),Object(_.jsxs)("div",{className:"inline-flex flex-col h-full",children:[c?Object(_.jsx)("a",{href:"#".concat(t),onClick:function(){return c(n?null:a.value)},className:"text-sm",children:t}):Object(_.jsx)("span",{className:"text-sm select-none",children:t}),Object(_.jsxs)("span",{className:"text-gray-500 text-xs mt-1",children:["(",r,")"]})]})]})},Ea=function(e){return Object(_.jsx)(L,Object(i.a)({name:"category",label:"category",type:"select",options:[{label:"None",value:""}].concat(Object(te.a)([{id:1,label:"Analgesics",value:"analgesics"},{id:2,label:"Antacids",value:"antacids"},{id:3,label:"Antianxiety Drugs",value:"antianxiety drugs"},{id:4,label:"Antiarrhythmics",value:"antiarrhythmics"},{id:5,label:"Antibacterials",value:"antibacterials"},{id:6,label:"Antibiotics",value:"antibiotics"}])),placeholder:"Select Category"},e))},La=function(e){return Object(_.jsx)(L,Object(i.a)({name:"company",label:"company",type:"text",options:[{id:1,label:"Ovex",value:"Ovex"},{id:2,label:"Diarrhoea",value:"Diarrhoea"},{id:3,label:"ORS",value:"ORS"},{id:4,label:"Flarin",value:"Flarin"},{id:5,label:"Anadin",value:"Anadin"}],placeholder:"Enter the company...",taggable:!0},e))},Ba=function(e){return Object(_.jsx)(L,Object(i.a)({name:"supplier",label:"supplier",type:"text",options:[{id:1,label:"AbdAlaziz Medical",value:"AbdAlaziz Medical"},{id:2,label:"Abo Alra",value:"Abo Alra"},{id:3,label:"Pharma Medical",value:"Pharma Medical"}],placeholder:"Enter supplier name...",taggable:!0},e))},Ta=function(e){var a=e.children,t=e.className,s=e.onSubmit,r=e.formButtons,n=void 0===r?[{}]:r;return Object(_.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),s(e)},children:[Object(_.jsx)("div",{className:t,children:a}),Object(_.jsx)("div",{className:"flex justify-end mt-6",children:n.map((function(e,a){return Object(_.jsx)(A,Object(i.a)({},e),a)}))})]})},za=function(e){var a=e.state,t=e.closeForm,s=e.className,r=void 0===s?"grid gap-x-5 gap-y-6 grid-cols-6":s,n=Object(l.f)(JSON.parse(JSON.stringify(a.value)));return Object(l.a)(n).label("Inventory Edit Form State"),Object(_.jsxs)(Ta,{className:r,onSubmit:Object(S.a)(C.a.mark((function e(){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(n.get());case 2:s=e.sent,oe({status:s.status,waitMsg:"Updating Item...",successMsg:"Inventory Item has been updated successfully!",successCallback:function(){a.set(JSON.parse(JSON.stringify(n.value))),t()}});case 5:case"end":return e.stop()}}),e)}))),children:[Object(_.jsx)(L,{className:"flex flex-col col-span-3",label:"product name",name:"product_name",id:"1",value:n.name,placeholder:"enter product name here...",disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"barcode",name:"barcode",id:"2",value:n.barcode,placeholder:"barcode here...",disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"unit size",name:"unit_size",id:"3",value:n.unit,placeholder:"e.g. 6 Capsules",disabled:!0}),Object(_.jsx)(Ea,{className:"flex flex-col",id:"4",value:n.category,disabled:!0}),Object(_.jsx)(La,{className:"flex flex-col col-span-2",id:"5",value:n.company,disabled:!0}),Object(_.jsx)(Ba,{className:"flex flex-col",id:"6",value:n.supplier}),Object(_.jsx)(L,{className:"flex flex-col",label:"cost",name:"cost",id:"7",value:n.cost,type:"number",step:"0.01",min:"1"}),Object(_.jsx)(L,{className:"flex flex-col",label:"price",name:"price",id:"8",value:n.price,type:"number",step:"0.01",min:"1"}),Object(_.jsx)(L,{className:"flex flex-col",label:"Online Order?",name:"gender",type:"radio",value:n.online_order,options:[{label:"Enable",value:!0},{label:"Disable",value:!1}]}),Object(_.jsx)(L,{className:"flex flex-col",label:"in stock",name:"in_stock",id:"9",value:n.stock,type:"number",min:"0"}),Object(_.jsx)(L,{className:"flex flex-col",label:"Reserved",name:"reserved",id:"10",value:n.reserved,type:"number",min:"0"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"arrival date",name:"arrival_date",id:"11",value:n.arrival_date,max:n.expire_date.value,type:"date",placeholder:"e.g. 11-11-2021"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"expire date",name:"expire_date",id:"12",value:n.expire_date,min:n.arrival_date.value,type:"date",placeholder:"e.g. 11-11-2021"})]})},Ra={data:{productId:null,name:"",barcode:"",unit:"",category:"",company:"",photo:"",cost:0,price:0,supplier:"",stock:0,reserved:0,arrival_date:"",expire_date:"",online_order:!0},errors:{}};var Ua=function(e){var a=e.title,t=e.children,s=e.state,r=e.onClose,n=e.faClass,c=void 0===n?"fas fa-plus-square":n,l=e.style,o=void 0===l?{}:l,i=function(){s.set(!1),r&&r()},d=s.get();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{onClick:i,className:"fixed top-0 left-0 right-0 bottom-0 bg-black opacity-0 z-40 ".concat(d?"opacity-75 visible":"invisible")}),Object(_.jsxs)("div",{className:"dialog max-h-screen fixed w-1/2 z-50 bg-white rounded overflow-hidden shadow-xl duration-75 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 scale-0 ".concat(d?"scale-100 duration-500":""),style:o,children:[Object(_.jsxs)("div",{className:"flex justify-between py-4 px-5 bg-gray shadow-md font-semibold",children:[Object(_.jsxs)("h3",{children:[Object(_.jsx)("i",{className:"".concat(c," text-primary mr-2")}),a]}),Object(_.jsx)("button",{className:"text-gray-300 self-center",title:"close?",onClick:i,children:Object(_.jsx)("i",{className:"fas fa-times text-gray-400 hover:text-red self-center"})})]}),Object(_.jsx)("div",{className:"px-5 py-6 overflow-y-auto",style:{maxHeight:"calc(100vh - 100px)"},children:d&&t})]})]})},Ja=["children","className","onSubmit","formButtons"],Va=function(e){var a=e.children,t=e.className,s=e.onSubmit,r=e.formButtons,n=void 0===r?[{}]:r,c=Object(F.a)(e,Ja);return Object(_.jsx)(Ua,Object(i.a)(Object(i.a)({},c),{},{children:Object(_.jsx)(Ta,{formButtons:n,className:t,onSubmit:s,children:a})}))},Ga=function(e){var a=Object(l.e)(O.tables.products.data);return Object(_.jsx)(L,Object(i.a)({label:"product name",name:"product_name",type:"select",options:a.map((function(e){return{label:e.name.value,value:e.id.value}}))},e))},Wa=function(e){var a=e.showState,t=Object(l.e)({data:Object(i.a)({},Ra.data),errors:Object(i.a)({},Ra.errors)}),r=Object(l.e)(O.tables.products.data),n=Object(l.e)(O.tables.inventory.data),c=t.data;t.errors;return Object(l.a)(t).label("Inventory Popup Form"),Object(s.useEffect)((function(){var e="";window.onkeypress=function(a){var t=a.keyCode,s=a.key;if(13===t){var n=r.find((function(a){return a.barcode.value===e}));n&&(c.productId.set(n.id.value),c.name.set(n.name.value),c.photo.set(n.photo.url.value),c.barcode.set(n.barcode.value),c.unit.set(n.unit.value),c.category.set(n.category.value),c.company.set(n.company.value)),e=""}else e+=s}}),[]),Object(_.jsxs)(Va,{title:"Add New Product",state:a,formButtons:[{label:"Add Product to Inventory",faClass:"fas fa-plus"}],className:"grid gap-x-5 gap-y-6 grid-cols-4 text-sm gray-inputs",onSubmit:Object(S.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(c.get());case 2:t=e.sent,oe({status:t.status,successMsg:"Inventory Item has been added successfully!",successCallback:function(){var e=Object(S.a)(C.a.mark((function e(){var t,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.set(Object(i.a)({},Ra.data)),a.set(!1),e.next=4,He();case 4:t=e.sent,s=t.data,n.set(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 5:case"end":return e.stop()}}),e)}))),children:[Object(_.jsxs)(D,{className:"col-span-4",children:[Object(_.jsx)("strong",{children:"Note:"})," You can use"," ",Object(_.jsx)("i",{className:"fas fa-barcode"})," barcode reader to capture basic product information into the fields below."]}),Object(_.jsx)(Ga,{className:"flex flex-col col-span-2",id:"1",type:"select",value:c.name,onChange:function(e){var a=e.value,t=r.find((function(e){return e.id.value===a}));c.productId.set(t.id.value),c.name.set(t.name.value),c.photo.set(t.photo.url.value),c.barcode.set(t.barcode.value),c.unit.set(t.unit.value),c.category.set(t.category.value),c.company.set(t.company.value)},required:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"barcode",name:"barcode",type:"text",id:"2",value:c.barcode,onChange:function(e){var a=e.target,t=r.find((function(e){return e.barcode.value===a.value}));console.log(t),t?(c.productId.set(t.id.value),c.name.set(t.name.value),c.barcode.set(t.barcode.value),c.unit.set(t.unit.value),c.category.set(t.category.value),c.company.set(t.company.value)):null===c.productId.value&&c.barcode.set(a.value)},placeholder:"barcode here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"unit size",name:"unit_size",id:"3",value:c.unit,placeholder:"e.g. 6 Capsules",disabled:!0}),Object(_.jsx)(Ea,{className:"flex flex-col col-span-2",id:"4",value:c.category,disabled:!0}),Object(_.jsx)(La,{className:"flex flex-col col-span-2",id:"5",value:c.company,placeholder:"Company Name...",disabled:!0}),Object(_.jsx)(Ba,{className:"flex flex-col col-span-2",id:"6",value:c.supplier}),Object(_.jsx)(L,{className:"flex flex-col",label:"cost",name:"cost",id:"7",value:c.cost,type:"number",min:"1",step:"0.01",required:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"price",name:"price",id:"8",value:c.price,type:"number",min:c.cost.value,step:"0.01",required:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"in stock",name:"in_stock",id:"9",value:c.stock,type:"number",min:"0",required:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"Reserved",name:"reserved",id:"10",value:c.reserved,type:"number",min:"0"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"Online Order?",name:"gender",type:"radio",value:c.online_order,options:[{label:"Enable",value:!0},{label:"Disable",value:!1}]}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"arrival date",name:"arrival_date",id:"11",value:c.arrival_date,max:c.expire_date.value,type:"date",placeholder:"e.g. 11-11-2021"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"expire date",name:"expire_date",id:"12",value:c.expire_date,min:(new Date).toJSON().substr(0,10),type:"date",placeholder:"e.g. 11-11-2021"})]})},Ya=function(){var e=Object(l.f)(O).tables.inventory;Object(l.a)(e).label("Inventory");var a=Object(l.f)(!1),t=Object(l.f)({columnName:"id",order:"desc"}),r=Object(y.i)().id;return Object(s.useEffect)((function(){if("number"===typeof+r){var a=e.data.find((function(e){return e.id.value===+r}));a&&e.filters.search.set(a.name.value)}}),[r]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Inventory Management",faClass:"fas fa-boxes",addButton:{label:"Add New Product",handler:function(){a.set(!0)}}}),Object(_.jsx)(Ma,{filters:Xa,filtersData:e.filters,data:e.data,columns:Ka,sortColumn:t,form:function(e,a){return Object(_.jsx)(za,{state:e,closeForm:a})},pagination:e.pagination}),Object(_.jsx)(Wa,{showState:a})]})},Ka=[{title:"Products List",sortProp:"id",wrapper:function(e){var a=e.name,t=e.photo,s=e.unit,r=e.id,n=e.edited,c=e.handleEdit;return Object(_.jsx)(Ia,{name:a.value,photo:t.value,unit:s.value,id:r,edited:n,onEdit:c})}},{title:"cost",prop:"cost"},{title:"price",prop:"price"},{title:"supplier",prop:"supplier"},{title:"stock",prop:"stock"},{title:"reserved",prop:"reserved"},{title:"arrival date",prop:"arrival_date"},{title:"expire date",prop:"expire_date"},{title:"manage",sortable:!1,wrapper:function(e){var a=e.id,t=e.edited,s=e.handleEdit;return Object(_.jsx)(qa,{id:a,edited:t,onEdit:s,onDelete:Object(S.a)(C.a.mark((function e(){var t,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==window.confirm("Are you sure to delete this inventory item?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ye(a.get());case 5:t=e.sent,s=t.data,oe({status:t.status,waitMsg:"Deleting Inventory Item...",successMsg:"Inventory Item has been deleted successfully!",successCallback:function(){O.tables.inventory.data.set((function(e){return e.filter((function(e){return e.id!==s.id}))}))}});case 9:case"end":return e.stop()}}),e)})))})}}],Xa=[{label:"Search",type:"search",by:"name",prop:"search",placeholder:"enter the product name here..."},{label:"Category",type:"select",by:"category",prop:"category",wide:!0,options:[{label:"All",value:""}].concat(Object(te.a)([{id:1,label:"Analgesics",value:"analgesics"},{id:2,label:"Antacids",value:"antacids"},{id:3,label:"Antianxiety Drugs",value:"antianxiety drugs"},{id:4,label:"Antiarrhythmics",value:"antiarrhythmics"},{id:5,label:"Antibacterials",value:"antibacterials"},{id:6,label:"Antibiotics",value:"antibiotics"}]))},{label:"Status",type:"select",by:"stock",prop:"status",handler:function(e,a){return"in-stock"===e?a>0:a<=0},options:[{label:"All",value:""},{label:"In Stock",value:"in-stock"},{label:"Out of Stock",value:"out-of-stock"}]}],Ha=[{id:1,name:"Diarrhoea. Relief - Loperamide Capsules",unit:"6 Capsules",photo:"/assets/images/5.jpg",cost:1e3,price:1200,sold:375,sales:45e4,profits:75e3,qty:225},{id:2,name:"Ovex Family Pack Tablets",unit:"4x 100mg Tablets",photo:"/assets/images/3.jpg",cost:1200,price:1400,sold:253,sales:354e3,profits:5e4,qty:20}],$a=[{label:"This Day",value:"day"},{label:"This Week",value:"week"},{label:"This month",value:"month"},{label:"This Year",value:"year"}],Za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"admin";return"admin"===e?Promise.resolve({data:{views:{counter:6122,previous_counter:7110},orders:{counter:220,previous_counter:188},pharmacies:{counter:102},users:{counter:1365}},status:200}):Promise.resolve({data:{sales:{counter:24450,previous_counter:24199},orders:{counter:220,previous_counter:188},profits:{counter:4350,previous_counter:3967},sold_products:{counter:1365,previous_counter:3808}},status:200})},Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week",a=[];switch(e){case"day":a=[700,200,140,20];break;case"week":a=[5003,1002,670,100];break;case"month":a=[11544,2034,804,234];break;case"year":a=[55450,2e3,233,400]}return Promise.resolve({data:a,status:200})},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week",a=[];switch(e){case"day":a=[7200,2030,1403,220];break;case"week":a=[55003,11002,6770,1700];break;case"month":a=[33544,22034,7704,1934];break;case"year":a=[355450,92e3,22233,4400]}return Promise.resolve({data:a,status:200})},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week",a=[];switch(e){case"day":a=[5800,70,400,604,430,200,124,111,120,500,430,540,800,505,782,955];break;case"week":case"month":a=[2230,6e3,5003,9544,4200,8e3,6e3];break;case"year":a=[40450,33e3,4e4,5e4,60023,33300,49739,69e3,51e3,23003]}return Promise.resolve({data:a,status:200})},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week",a=[];switch(e){case"day":a=[5800,70,400,604,430,200,124,111,120,500,430,540,800,505,782,955];break;case"week":case"month":a=[2230,6e3,5003,9544,4200,8e3,6e3];break;case"year":a=[40450,33e3,4e4,5e4,60023,33300,49739,69e3,51e3,23003]}return Promise.resolve({data:a,status:200})},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week",a=[];switch(e){case"day":a=[500,40,220,504,230,100,44,11,50,300,230,440,500,405,482,755];break;case"week":case"month":a=[1230,3e3,2003,4544,1200,4e3,700];break;case"year":a=[30450,23e3,33e3,42e3,55023,27300,46739,63e3,44e3,12003]}return Promise.resolve({data:a,status:200})},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week",a=[];switch(e){case"day":a=[500,40,220,504,230,100,44,11,50,300,230,440,500,405,482,755];break;case"week":case"month":a=[1230,3e3,2003,4544,1200,4e3,700];break;case"year":a=[30450,23e3,33e3,42e3,55023,27300,46739,63e3,44e3,12003]}return Promise.resolve({data:a,status:200})},nt=t(26),ct={id:"htmlLegend",afterUpdate:function(e,a,t){for(var s=function(e,a){var t=document.getElementById(a),s=t.querySelector("ul");return s||((s=document.createElement("ul")).style.display="flex",s.style.flexDirection="row",s.style.flexWrap="wrap","pie"===e.config._config.type?s.style.justifyContent="center":s.style.justifyContent="flex-end",s.style.fontSize="12px",s.style.margin=0,s.style.padding=0,t.appendChild(s)),s}(e,t.containerID);s.firstChild;)s.firstChild.remove();e.options.plugins.legend.labels.generateLabels(e).forEach((function(a){var t=document.createElement("li");t.style.alignItems="center",t.style.cursor="pointer",t.style.display="flex",t.style.flexDirection="row","pie"===e.config._config.type?(t.style.marginRight="10px",t.style.marginBottom="7.2px"):t.style.marginLeft="10px",t.onclick=function(){var t=e.config.type;"pie"===t||"doughnut"===t?e.toggleDataVisibility(a.index):e.setDatasetVisibility(a.datasetIndex,!e.isDatasetVisible(a.datasetIndex)),e.update()};var r=document.createElement("span");r.style.background=a.strokeStyle,r.style.display="inline-block",r.style.height="4px",r.style.marginRight="10px",r.style.width="40px",r.style.borderRadius="5px";var n=document.createElement("p");n.style.color="rgba(6, 13, 22, 0.75)",n.style.fontWeight="medium",n.style.margin=0,n.style.padding=0,n.style.textDecoration=a.hidden?"line-through":"";var c=document.createTextNode(a.text);n.appendChild(c),t.appendChild(r),t.appendChild(n),s.appendChild(t)}))}};nt.a.defaults.font.family="Poppins",nt.a.defaults.font.size="12px",nt.a.defaults.color="#A3A3A3";var lt=function(e){var a=e.title,t=e.data,r=e.time,n=e.onTimeChange,c=e.type,l=void 0===c?"admin":c,o=Object(s.useRef)(null);return Object(s.useEffect)((function(){var e=function(e,a){return new nt.a(e,{type:"line",options:{plugins:{htmlLegend:{containerID:"line-chart-container"},legend:{display:!1}},elements:{line:{tension:.5}},scales:{y:{ticks:{callback:function(e,t,s){return de(e)+("admin"===a?"":" SDG")}}}}},data:{labels:[],datasets:[{borderColor:"rgb(0, 119, 182)",backgroundColor:"rgba(0, 119, 182, 0.5)",pointBorderColor:"rgb(0, 119, 182)",pointBackgroundColor:"rgb(0, 119, 182)",data:[],fill:"start"},{borderColor:"rgb(0, 180, 216)",backgroundColor:"rgba(0, 180, 216, 0.5)",pointBorderColor:"rgb(0, 180, 216)",pointBackgroundColor:"rgb(0, 180, 216)",data:[],fill:"start"}]},plugins:[ct]})}(o.current.getContext("2d"),l);return e&&(e.data.labels=ie(r),e.data.datasets[0].label=t[0].label,e.data.datasets[0].data=t[0].datasets,e.data.datasets[1].label=t[1].label,e.data.datasets[1].data=t[1].datasets,e.update({duration:2e3})),function(){return e.destroy()}}),[r,t]),Object(_.jsxs)("div",{className:"col-span-2",children:[Object(_.jsx)(Da,{name:a,faClass:"fas fa-chart-area",selectMenu:{label:"Time",options:$a,value:r,onchange:function(e){var a=e.target;n(a.value)}}}),Object(_.jsxs)("div",{className:"bg-white shadow-md rounded p-5",children:[Object(_.jsx)("div",{id:"line-chart-container",className:"mb-2 select-none"}),Object(_.jsx)("canvas",{ref:o})]})]})};var ot=function(e){var a=e.mainText,t=e.seconderyText,s=e.percent,r=e.faClass,n=e.bgColor,c=e.iconColor,l=e.link,o=e.suffix,i=void 0===o?"":o;return Object(_.jsxs)("div",{className:"animate__animated animate__flipInX rounded overflow-hidden flex bg-white shadow-md relative",children:[Object(_.jsx)("i",{className:"".concat(r," px-8 py-8 w-26 text-center inline-block text-4xl ").concat(n," ").concat(c)}),Object(_.jsxs)("div",{className:"py-7 pl-4 pr-2 flex-grow",children:[Object(_.jsx)("strong",{className:"block text-secondary text-xl",children:"".concat(a.toLocaleString("en")," ").concat(i)}),Object(_.jsx)("span",{className:"text-gray-400 text-smd font-light inline-block mt-1",children:t}),Object(_.jsx)("span",{className:"text-xs text-gray-400 absolute top-2.5 right-2.5",children:s?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("i",{className:"fas fa-long-arrow-alt-".concat(s.direction," ").concat("up"===s.direction?"text-green":"text-red")})," ",s.value,"%"]}):l&&Object(_.jsx)(w.b,{to:l.url,children:l.label})})]})]})},it=function(){var e=Object(l.e)(O).loggedUser,a=Object(s.useState)(p),t=Object(Pe.a)(a,2),r=t[0],n=t[1],c=e.role.get(),o=r.views,i=r.pharmacies,d=r.users,u=r.sales,m=r.profits,b=r.orders,f=r.sold_products,j=function(e){var a=e.counter,t=e.previous_counter,s=a-t;return{value:(Math.abs(s)/t*100||0).toFixed(1),direction:s>=0?"up":"down"}};return Object(s.useEffect)((function(){Object(S.a)(C.a.mark((function e(){var a,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Za(c);case 2:a=e.sent,t=a.data,n(t);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"admin"===c?"General Overview":"Today's Overview",faClass:"fas fa-eye"}),Object(_.jsxs)("div",{className:"grid gap-6 grid-cols-4",children:["admin"===c?Object(_.jsx)(ot,{mainText:o.counter,seconderyText:"Today's Views",percent:j(o),faClass:"fas fa-eye",bgColor:"bg-blue-light",iconColor:"text-secondary"}):Object(_.jsx)(ot,{mainText:u.counter,suffix:"SDG",seconderyText:"Today's Sales",percent:j(u),faClass:"fas fa-piggy-bank",bgColor:"bg-brighter",iconColor:"text-primary"}),Object(_.jsx)(ot,{mainText:b.counter,seconderyText:"admin"===c?"Today's Online Orders":"Today's Total Orders",percent:j(b),faClass:"fas fa-cart-arrow-down",bgColor:"bg-gray-100",iconColor:"text-gray-400"}),"admin"===c?Object(_.jsx)(ot,{mainText:i.counter,seconderyText:"Active Pharmacies",link:{url:"/pharmacies",label:"View All"},faClass:"fas fa-clinic-medical",bgColor:"bg-brighter",iconColor:"text-primary"}):Object(_.jsx)(ot,{mainText:m.counter,suffix:"SDG",seconderyText:"Today's Profits",percent:j(m),faClass:"fas fa-dollar-sign",bgColor:"bg-green-light",iconColor:"text-green-dark"}),"admin"===c?Object(_.jsx)(ot,{mainText:d.counter,seconderyText:"Active Users",link:{url:"/users",label:"View All"},faClass:"fas fa-users",bgColor:"bg-green-lighter",iconColor:"text-green"}):Object(_.jsx)(ot,{mainText:f.counter,seconderyText:"Today's Sold Products",percent:j(f),faClass:"fas fa-pills",bgColor:"bg-yellow-light",iconColor:"text-yellow"})]})]})};nt.a.defaults.font.family="Poppins",nt.a.defaults.font.size="12px",nt.a.defaults.color="#A3A3A3";var dt=function(e){var a=e.title,t=e.data,r=e.time,n=e.onTimeChange,c=Object(s.useRef)(null);return Object(s.useEffect)((function(){var e=function(e){return new nt.a(e,{type:"pie",options:{plugins:{htmlLegend:{containerID:"pie-chart-container"},legend:{display:!1}},animation:{animateScale:!0}},data:{labels:[],datasets:[{label:"",borderWidth:3,borderAlign:"inner",borderColor:["rgb(0, 119, 182)","rgb(0, 180, 216)","rgb(144, 224, 239)","rgb(221, 221, 221)"],backgroundColor:["rgba(0, 119, 182, 0.5)","rgba(0, 180, 216, 0.5)","rgba(144, 224, 239, 0.5)","rgba(221, 221, 221, 0.5)"],data:[]}]},plugins:[ct]})}(c.current.getContext("2d"));return e&&(e.data.labels=t.statusLabels,e.data.datasets[0].label=t.label,e.data.datasets[0].data=t.datasets,e.update({duration:1500})),function(){return e.destroy()}}),[r,t]),Object(_.jsxs)("div",{children:[Object(_.jsx)(Da,{name:a,faClass:"fas fa-chart-pie",selectMenu:{label:"Time",options:$a,value:r,onchange:function(e){var a=e.target;n(a.value)}}}),Object(_.jsxs)("div",{className:"bg-white shadow-md rounded p-5",children:[Object(_.jsx)("div",{id:"pie-chart-container",className:"mb-2 select-none"}),Object(_.jsx)("canvas",{ref:c})]})]})};var ut=function(){var e=Object(l.f)(O).tables.productsStatistics;Object(l.a)(e).label("Products Statistics");var a=Object(l.f)({columnName:"sold",order:"desc"});return Object(s.useEffect)(Object(S.a)(C.a.mark((function a(){var t,s;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.resolve({data:Ha,status:200});case 2:t=a.sent,s=t.data,e.data.set(s);case 5:case"end":return a.stop()}}),a)}))),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Products Statistics",faClass:"fas fa-info-circle"}),Object(_.jsx)(Ma,{filters:bt,filtersData:e.filters,data:e.data,columns:mt,sortColumn:a,pagination:e.pagination})]})},mt=[{title:"Products List",sortProp:"id",wrapper:function(e){var a=e.name,t=e.photo,s=e.unit,r=e.id;return Object(_.jsx)(Ia,{name:a.value,photo:t.value,unit:s.value,id:r})}},{title:"cost",sortProp:"cost",wrapper:function(e){var a=e.cost;return"".concat(a.get()," SDG")}},{title:"price",sortProp:"price",wrapper:function(e){var a=e.price;return"".concat(a.get()," SDG")}},{title:"item sold",sortProp:"sold",prop:"sold"},{title:"total sales",sortProp:"sales",wrapper:function(e){var a=e.sales;return"".concat(de(a.get())," SDG")}},{title:"profits",sortProp:"profits",wrapper:function(e){var a=e.profits;return"".concat(de(a.get())," SDG")}},{title:"remaining qty",prop:"qty"},{title:"status",sortProp:"status",wrapper:function(e){return e.qty.value>0?Object(_.jsx)("strong",{className:"text-green font-semibold",children:"In Stock"}):Object(_.jsx)("strong",{className:"text-red font-semibold",children:"Out of Stock"})}}],bt=[{label:"Search",type:"search",by:"name",prop:"search",placeholder:"enter the product name here..."}],pt=function(){var e=Object(l.e)(O).loggedUser.role.get(),a=Object(s.useState)("week"),t=Object(Pe.a)(a,2),r=t[0],n=t[1],c=Object(s.useState)("week"),o=Object(Pe.a)(c,2),d=o[0],u=o[1],m=Object(s.useState)([{label:"admin"===e?"Orders":"Profits",datasets:[]},{label:"admin"===e?"Views":"Sales",datasets:[]}]),b=Object(Pe.a)(m,2),p=b[0],f=b[1],j=Object(s.useState)({statusLabels:["Finished","Waiting","Payment Confirmed","Canceled"],label:"Orders Status",datasets:[]}),h=Object(Pe.a)(j,2),x=h[0],v=h[1];return Object(s.useEffect)((function(){Object(S.a)(C.a.mark((function a(){var t,s,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=[],"admin"!==e){a.next=8;break}return a.next=4,et(d);case 4:s=a.sent,t=s.data,a.next=12;break;case 8:return a.next=10,Qa(d);case 10:r=a.sent,t=r.data;case 12:v(Object(i.a)(Object(i.a)({},x),{},{datasets:t}));case 13:case"end":return a.stop()}}),a)})))()}),[d]),Object(s.useEffect)((function(){Object(S.a)(C.a.mark((function a(){var t,s,n,c,l,o,i,d;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("admin"!==e){a.next=12;break}return a.next=3,st(r);case 3:return t=a.sent,s=t.data,a.next=7,at(r);case 7:n=a.sent,c=n.data,f([{label:"Orders",datasets:s},{label:"Views",datasets:c}]),a.next=21;break;case 12:return a.next=14,rt(r);case 14:return l=a.sent,o=l.data,a.next=18,tt(r);case 18:i=a.sent,d=i.data,f([{label:"Profits",datasets:o},{label:"Sales",datasets:d}]);case 21:case"end":return a.stop()}}),a)})))()}),[r]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(it,{}),Object(_.jsxs)("div",{className:"grid grid-cols-3 gap-x-6 mt-8",children:[Object(_.jsx)(lt,{title:"admin"===e?"Views & Orders":"Sales & Profits",time:r,data:p,onTimeChange:n,type:e}),Object(_.jsx)(dt,{title:"Orders Overview",data:x,time:d,onTimeChange:u})]}),"pharmacy owner"===e&&Object(_.jsx)("div",{className:"mt-8",children:Object(_.jsx)(ut,{})})]})},ft=function(e){return Object(_.jsx)(L,Object(i.a)({label:"phone number",name:"phone_number",type:"tel",maxLength:"13",pattern:"\\+?249[19]\\d{8}",placeholder:"e.g. +2499XXXXXXXX"},e))},jt=function(e){var a=e.state,t=e.closeForm,s=e.className,r=void 0===s?"grid gap-x-5 gap-y-6 grid-cols-6":s,n=Object(l.f)(JSON.parse(JSON.stringify(a.value)));return Object(l.a)(n).label("Employee Edit Form State"),Object(_.jsxs)(Ta,{className:r,onSubmit:Object(S.a)(C.a.mark((function e(){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(a.get());case 2:s=e.sent,oe({status:s.status,waitMsg:"Updating Employee Information...",successMsg:"Employee information has been updated successfully!",successCallback:function(){a.set(JSON.parse(JSON.stringify(n.value))),t()}});case 5:case"end":return e.stop()}}),e)}))),children:[Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"full name",name:"full_name",id:"1",value:n.full_name,placeholder:"enter employee name here...",required:!0,disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"username",name:"username",id:"2",value:n.username,placeholder:"username here...",disabled:!0,required:!0}),Object(_.jsx)(ft,{className:"flex flex-col col-span-2",id:"3",value:n.phone_number,disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col",id:"4",label:"Gender",name:"gender",type:"radio",value:n.gender,options:[{label:"Male",value:"m"},{label:"Female",value:"f"}],disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"role",name:"role",type:"select",id:"5",value:n.role,options:[{label:"Supervisor",value:"supervisor"},{label:"Pharmacist",value:"pharmacist"}]}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"work from",name:"work_from",id:"7",value:n.work_from,type:"time"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"work to",name:"work_to",id:"8",value:n.work_to,type:"time",min:a.work_from.value})]})},ht={data:{full_name:"",username:"",phone_number:"",gender:"",role:"pharmacist",work_from:"",work_to:""},errors:{}},xt=function(e){var a=e.showState,t=Object(l.f)({data:Object(i.a)({},ht.data),errors:Object(i.a)({},ht.errors)});Object(l.a)(t).label("Employee Popup Form");var r=Object(l.f)(O.tables.employees.data),n=t.data,c=(t.errors,Object(l.f)([]));return Object(s.useEffect)((function(){Object(S.a)(C.a.mark((function e(){var a,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W("user");case 3:a=e.sent,t=a.data,c.set(t),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),Object(_.jsxs)(Va,{title:"Add New Employee",state:a,className:"grid gap-x-5 gap-y-6 grid-cols-6 text-sm gray-inputs",formButtons:[{label:"Add Employee",faClass:"fas fa-plus"}],onSubmit:Object(S.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(n.get());case 2:t=e.sent,oe({status:t.status,successMsg:Object(_.jsxs)(_.Fragment,{children:["We have send invitation email to"," ",Object(_.jsx)("strong",{children:n.full_name.get()})," to join employee team of this pharmacy branch!"]}),successCallback:function(){var e=Object(S.a)(C.a.mark((function e(){var t,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.set(Object(i.a)({},ht.data)),e.next=3,Ue();case 3:t=e.sent,s=t.data,r.set(s),a.set(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 5:case"end":return e.stop()}}),e)}))),children:[Object(_.jsx)(L,{className:"flex flex-col col-span-3",label:"username",name:"username",id:"2",type:"select",value:n.username,options:c.map((function(e){return{label:e.username.value,value:e.username.value}})),onChange:function(){var e=Object(S.a)(C.a.mark((function e(a){var t,s,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.value,e.next=3,G(t);case 3:s=e.sent,r=s.data,n.username.set(r.username),n.full_name.set("".concat(r.first_name," ").concat(r.last_name));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),placeholder:"username here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-3",label:"full name",name:"full_name",id:"1",value:n.full_name,placeholder:"enter employee name here...",disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"role",name:"role",type:"select",id:"5",value:n.role,options:[{label:"Supervisor",value:"supervisor"},{label:"Pharmacist",value:"pharmacist"}]}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"work from",name:"work_from",id:"7",value:n.work_from,type:"time"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"work to",name:"work_to",id:"8",value:n.work_to,type:"time",min:t.work_from.value})]})},vt=function(){var e=Object(l.f)(O).tables.employees;Object(l.a)(e).label("Employees");var a=Object(y.i)().id,t=Object(l.f)(!1),r=Object(l.f)({columnName:"id",order:"desc"});return Object(s.useEffect)((function(){if("number"===typeof+a){var t=e.data.find((function(e){return e.id.value===+a}));t&&e.filters.search.set(t.full_name.value)}}),[a]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Staff Management",faClass:"fas fa-user-tie",addButton:{label:"Add New Employee",handler:function(){t.set(!0)}}}),Object(_.jsx)(Ma,{filters:Ot,filtersData:e.filters,data:e.data,columns:gt,sortColumn:r,form:function(e,a){return Object(_.jsx)(jt,{state:e,closeForm:a})},pagination:e.pagination}),Object(_.jsx)(xt,{showState:t})]})},gt=[{title:"full name",sortProp:"full_name",wrapper:function(e){var a=e.id,t=e.full_name,s=e.edited,r=e.handleEdit;return Object(_.jsx)("button",{onClick:function(){return r(s?null:a.value)},className:"text-smd text-secondary underline font-medium hover:text-primary",children:t.get()})}},{title:"username",prop:"username"},{title:"phone number",prop:"phone_number",defaultValue:"N/A"},{title:"gender",sortProp:"gender",wrapper:function(e){switch(e.gender.get()){case"m":return"male";case"f":return"female";default:return"N/A"}}},{title:"status",prop:"status"},{title:"role",prop:"role"},{title:"work time",sortable:!1,wrapper:function(e){var a=e.work_from.value,t=e.work_to.value;return a&&t?"".concat(a," to ").concat(t):"-"}},{title:"last seen",sortable:!1,prop:"last_seen",defaultValue:"Not logged in yet"},{title:"joining date",prop:"joining_date"},{title:"manage",sortable:!1,wrapper:function(e){var a=e.id,t=e.edited,s=e.handleEdit;return Object(_.jsx)(qa,{id:a,edited:t,onEdit:s,onDelete:Object(S.a)(C.a.mark((function e(){var t,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==window.confirm("Are you sure to delete this employee item?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Je(a.get());case 5:t=e.sent,s=t.data,oe({status:t.status,waitMsg:"Deleting Employee...",successMsg:"Employee has been deleted successfully!",successCallback:function(){return Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.tables.employees.data.set((function(e){return e.filter((function(e){return e.id!==s.id}))}));case 1:case"end":return e.stop()}}),e)})))()}});case 9:case"end":return e.stop()}}),e)})))})}}],Ot=[{label:"Search",type:"search",by:"full_name",prop:"search",placeholder:"enter the employee name here..."},{label:"Role",type:"select",by:"role",prop:"role",options:[{label:"All",value:""},{label:"Supervisor",value:"supervisor"},{label:"Pharmacist",value:"pharmacist"}]},{label:"Status",type:"select",by:"status",prop:"status",options:[{label:"All",value:""},{label:"Approved",value:"approve"},{label:"Pending",value:"pending"}]}],yt=function(e){var a=e.data,t=a.id,s=a.date,r=a.products,n=a.products_amount,c=a.vat,o=a.discount,i=a.delivery,d=void 0===i?0:i,u=a.payment,m=a.handled_by,b=Object(l.f)(O).pharmacyBranch,p=b.name,f=b.branch,j=b.phone_numbers,h=b.email,x=b.website;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"mb-5 text-right",children:Object(_.jsxs)("button",{onClick:window.print,className:"text-smd font-semibold bg-primary text-white px-3 py-1.5 hover:bg-secondary rounded-sm shadow-md",children:[Object(_.jsx)("i",{className:"fas fa-print text-bright mr-2"}),"Print"]})}),Object(_.jsxs)("div",{className:"printable bg-gray-100 border-2 border-gray-300 border-dashed rounded p-5",children:[Object(_.jsxs)("section",{className:"mb-6",children:[Object(_.jsxs)("h2",{className:"text-center font-semibold text-xl mb-5",children:[p.get()," - ",f.get()]}),Object(_.jsxs)("table",{children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Products List"}),Object(_.jsx)("th",{children:"QTY"}),Object(_.jsx)("th",{children:"Subtotal"})]})}),Object(_.jsx)("tbody",{children:r.map((function(e){return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:e.name}),Object(_.jsx)("td",{children:e.qty}),Object(_.jsxs)("td",{children:[e.price*e.qty," SDG"]})]},e.name)}))})]})]}),Object(_.jsxs)("section",{className:"mb-6",children:[Object(_.jsx)("h3",{className:"font-semibold mb-5 border-b pb-2",children:"Order Summary"}),Object(_.jsx)("table",{children:Object(_.jsxs)("tbody",{children:[Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Products Amount"}),Object(_.jsxs)("td",{children:[n," SDG"]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Discount"}),Object(_.jsxs)("td",{children:["- ",o," SDG"]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"VAT"}),Object(_.jsxs)("td",{children:["+ ",c," SDG"]})]}),0!==d?Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Delivery"}),Object(_.jsxs)("td",{children:["+ ",d," SDG"]})]}):null,Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:Object(_.jsx)("strong",{children:"Total Amount"})}),Object(_.jsx)("td",{children:Object(_.jsxs)("strong",{children:[n-o+c+d," ","SDG"]})})]})]})})]}),Object(_.jsxs)("p",{className:"text-sm text-gray-600 leading-6",children:[Object(_.jsxs)("p",{children:[Object(_.jsx)("strong",{children:"Order ID: "}),Object(_.jsx)("span",{children:t}),Object(_.jsx)("span",{className:"mx-2",children:" - "}),Object(_.jsx)("strong",{children:"Handled By: "}),Object(_.jsx)("span",{children:m.name||"Not Handled Yet"}),Object(_.jsx)("span",{className:"mx-2",children:" - "}),Object(_.jsx)("strong",{children:"Date: "}),Object(_.jsx)("span",{children:s})]}),Object(_.jsxs)("p",{children:[Object(_.jsx)("strong",{children:"Payment Method: "}),Object(_.jsx)("span",{children:u.method})," ",Object(_.jsx)("span",{className:"mx-2",children:" - "}),Object(_.jsx)("strong",{children:"Phone Numbers: "}),Object(_.jsx)("span",{children:j.get().join(" - ")}),h&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("br",{}),Object(_.jsx)("strong",{children:"Email: "}),Object(_.jsx)("span",{children:h.get()})]}),x&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("br",{}),Object(_.jsx)("strong",{children:"Website: "}),Object(_.jsx)("span",{children:x.get()})]})]})]})]})]})},wt=function(){var e=Object(l.f)(O),a=e.tables.orders,t=e.popupWindow;Object(l.a)(a).label("Orders");var r=Object(y.i)().id,n=Object(l.f)({columnName:"id",order:"desc"});return Object(s.useEffect)((function(){isNaN(r)||a.filters.search.set(r)}),[r]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Orders",faClass:"fas fa-dolly"}),Object(_.jsx)(Ma,{filters:Nt,filtersData:a.filters,data:a.data,columns:_t,sortColumn:n,pagination:a.pagination}),Object(_.jsx)(Ua,{style:"payment-proof"===t.type.get()?{width:400}:{},state:t.display,faClass:"fas fa-file-invoice".concat("payment-proof"===t.type.get()?"-dollar":""),title:"Order ".concat("payment-proof"===t.type.get()?"Payment Proof":"Invoice - #".concat(t.data.id.get())),children:"payment-proof"===t.type.get()?Object(_.jsx)("img",{className:"mx-auto",src:t.data.proof_screenshot.get(),style:{height:600},alt:"Payment Proof"}):Object(_.jsx)(yt,{data:t.data.get()})})]})},_t=[{title:"order ID",sortProp:"id",wrapper:function(e){var a=e.id,t=e.popupWindow,s=e.item;return Object(_.jsxs)("a",{href:"#".concat(a.get()),onClick:function(){t.data.set(JSON.parse(JSON.stringify(s.value))),t.type.set("order-invoice"),t.display.set(!0)},className:"text-smd",children:["#",a.get()]})}},{title:"type",prop:"type"},{title:"total price",sortProp:"products_amount",wrapper:function(e){var a=e.products_amount,t=e.vat,s=e.discount,r=e.delivery;return"".concat(a.value+t.value+r.value-s.value," SDG")}},{title:"status",sortProp:"status",wrapper:function(e){var a=e.status,t=e.id;return Object(_.jsx)(L,{name:"status",type:"select",value:a,onChange:function(){var e=Object(S.a)(C.a.mark((function e(s){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(t.get(),s.value);case 2:r=e.sent,oe({status:r.status,waitMsg:"Changing Order Status...",successMsg:"Order status has been changed to '".concat(s.label,"' successfully!"),successCallback:function(){a.set(s.value)}});case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),options:[{label:"Finished",value:"finished"},{label:"Pending",value:"pending"},{label:"Confirmed",value:"confirmed"},{label:"Canceled",value:"canceled"}]})}},{title:"handled by",sortProp:"handled_by.name",wrapper:function(e){var a=e.handled_by,t=a.id,s=a.name;return""===t.get()?"Not handled yet":"pharmacist"===O.loggedUser.role.get()?s.get():Object(_.jsx)(w.b,{to:"/staff/".concat(t.get()),children:s.get()})}},{title:"date",prop:"date"},{title:"payment method",sortProp:"payment.method",wrapper:function(e){var a=e.popupWindow,t=e.payment,s=t.method,r=t.proof;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"capitalize align-middle",children:s.get()}),r.get()&&Object(_.jsxs)("button",{type:"button",className:"ml-2 px-2 py-1 rounded-sm text-white bg-green hover:text-green hover:bg-white hover:shadow-md transition-none shadow font-semibold text-xxs",onClick:function(){a.data.set({proof_screenshot:r.get()}),a.type.set("payment-proof"),a.display.set(!0)},children:[Object(_.jsx)("i",{className:"fas fa-file-invoice-dollar mr-1"})," ","Proof"]})]})}},{title:"manage",sortable:!1,wrapper:function(e){var a=e.popupWindow,t=e.item;return Object(_.jsx)(qa,{id:t.id,onView:function(){a.data.set(JSON.parse(JSON.stringify(t.value))),a.type.set("order-invoice"),a.display.set(!0)}})}}],Nt=[{label:"Search",type:"search",by:"id",prop:"search",placeholder:"enter the order ID here..."},{label:"Type",type:"select",by:"type",prop:"type",options:[{label:"All",value:""},{label:"Local",value:"local"},{label:"Online",value:"online"}]},{label:"Status",type:"select",by:"status",prop:"status",options:[{label:"All",value:""},{label:"Finished",value:"finished"},{label:"Pending",value:"pending"},{label:"Confirmed",value:"confirmed"},{label:"Canceled",value:"canceled"}]}],kt={label:"Reject",faClass:"fas fa-times-circle text-red group-hover:text-white",className:"bg-gray rounded text-smd shadow text-red hover:bg-red hover:text-white"},Ct={label:"Activate",faClass:"fas fa-check-circle"},St=function(e){var a=e.state,t=e.className,r=void 0===t?"grid gap-x-5 gap-y-6 grid-cols-6 text-sm":t,n=Object(l.f)(JSON.parse(JSON.stringify(a.value)));Object(l.a)(n).label("Pharmacy Form State");var c=Object(s.useCallback)(function(){var e=Object(S.a)(C.a.mark((function e(t,s){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t,s);case 2:r=e.sent,oe({status:r.status,waitMsg:"Changing Pharmacy Status...",successMsg:"Pharmacy status has been changed to '".concat(s,"' successfully!"),successCallback:function(){a.status.set(s)}});case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),[]);kt.onClick=c.bind(null,a.id.get(),"rejected"),Ct.onClick=c.bind(null,a.id.get(),"active");var o=[];switch(a.status.get()){case"active":o.push(kt);break;case"rejected":o.push(Ct);break;default:o.push(kt,Ct)}return Object(_.jsxs)(Ta,{className:r,formButtons:o,onSubmit:function(){return!1},children:[Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"pharmacy name",name:"name",id:"1",value:n.name,placeholder:"pharmacy name here...",required:!0,disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"branch name",name:"branch",id:"2",value:n.branch,placeholder:"branch name here...",disabled:!0}),Object(_.jsx)(ft,{className:"flex flex-col col-span-2",label:"phone number 1",name:"phone_number_1",id:"3",value:n.phone_numbers[0],disabled:!0,required:!0}),Object(_.jsx)(ft,{className:"flex flex-col col-span-2",label:"phone number 2",name:"phone_number_2",id:"4",value:n.phone_numbers[1],disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"email",name:"email",id:"5",type:"email",value:n.email,placeholder:"pharmacy email here...",disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"website",name:"website",id:"6",type:"url",value:n.website,placeholder:"pharmacy website here...",disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-3",label:"state",name:"state",type:"select",id:"7",value:n.state,options:[{label:"Khartoum",value:"khartoum"}],required:!0,disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-3",label:"city",name:"city",id:"8",type:"select",options:[{label:"Khartoum",value:"khartoum"},{label:"Omdurman",value:"omdurman"},{label:"Bhary",value:"bhary"}],value:n.city,placeholder:"city name here...",required:!0,disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-6",label:"address",name:"address",id:"8",value:n.address,placeholder:"address line here...",required:!0,disabled:!0}),Object(_.jsx)(qe,{className:"flex flex-col col-span-6",coordinates:{lat:n.lat,lng:n.lng},immutable:!0})]})},Pt=function(){var e=Object(l.f)(O),a=e.tables.pharmacies,t=e.popupWindow;Object(l.a)(a).label("Orders");var r=Object(y.i)().id,n=Object(l.f)({columnName:"id",order:"desc"});return Object(s.useEffect)((function(){if(!isNaN(r)){var e=a.data.find((function(e){return e.id.value===+r}));e&&a.filters.search.set(e.name.value)}}),[r]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Pharmacies Management",faClass:"fas fa-clinic-medical"}),Object(_.jsx)(Ma,{filters:Mt,filtersData:a.filters,data:a.data,columns:At,sortColumn:n,pagination:a.pagination}),Object(_.jsx)(Ua,{state:t.display,faClass:"fas fa-info-circle",title:"Pharmacy Information Detials",children:"pharmacy-info"===t.type.get()&&Object(_.jsx)(St,{state:a.data.find((function(e){return e.id.value===t.data.id.value}))})})]})},At=[{title:"pharmacy name",sortProp:"name",wrapper:function(e){var a=e.id,t=e.name,s=e.popupWindow;e.item;return Object(_.jsx)("a",{href:"#".concat(a.get()),onClick:function(){s.data.set({id:a.value}),s.type.set("pharmacy-info"),s.display.set(!0)},className:"text-smd",children:t.get()})}},{title:"branch name",prop:"branch",defaultValue:"Main Branch"},{title:"status",sortProp:"status",wrapper:function(e){var a=e.id,t=e.status;return Object(_.jsx)(L,{name:"status",type:"select",value:t,onChange:function(){var e=Object(S.a)(C.a.mark((function e(s){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(a.get(),s.value);case 2:r=e.sent,oe({status:r.status,waitMsg:"Changing Pharmacy Status...",successMsg:"Pharmacy status has been changed to '".concat(s.label,"' successfully!"),successCallback:function(){t.set(s.value)}});case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),options:[{label:"Active",value:"active"},{label:"Pending",value:"pending"},{label:"Rejected",value:"rejected"}]})}},{title:"owned by",sortProp:"owned_by.name",wrapper:function(e){var a=e.owned_by,t=a.id,s=a.name;return Object(_.jsx)(w.b,{to:"/users/".concat(t.get()),children:s.get()})}},{title:"phone numbers",sortable:!1,wrapper:function(e){var a=e.phone_numbers;return""===a[1].get()?a[0].get():a.get().join(" - ").trim(" - ")}},{title:"joining date",prop:"created_at"},{title:"manage",sortable:!1,wrapper:function(e){var a=e.popupWindow,t=e.id,s=e.item;return Object(_.jsx)(qa,{id:s.id,onDelete:Object(S.a)(C.a.mark((function e(){var a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==window.confirm("Are you sure to delete this pharmacy?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_e(t.get());case 5:a=e.sent,s=a.data,oe({status:a.status,waitMsg:"Deleting Pharmacy...",successMsg:"Pharmacy has been deleted successfully!",successCallback:function(){O.tables.pharmacies.data.set((function(e){return e.filter((function(e){return e.id!==s.id}))}))}});case 9:case"end":return e.stop()}}),e)}))),onView:function(){a.data.set({id:t.value}),a.type.set("pharmacy-info"),a.display.set(!0)}})}}],Mt=[{label:"Search",type:"search",by:"name",prop:"search",placeholder:"enter the pharmacy name here..."}],Dt=function(e){var a=e.state,t=e.closeForm,s=e.className,r=void 0===s?"grid gap-x-5 gap-y-6 grid-cols-12":s,n=Object(l.f)(JSON.parse(JSON.stringify(a.value)));return Object(l.a)(n).label("User Edit Form State"),Object(_.jsxs)(Ta,{className:r,onSubmit:Object(S.a)(C.a.mark((function e(){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(a.get());case 2:s=e.sent,oe({status:s.status,waitMsg:"Updating User Information...",successMsg:"User information has been updated successfully!",successCallback:function(){a.set(JSON.parse(JSON.stringify(n.value))),t&&t()}});case 5:case"end":return e.stop()}}),e)}))),children:[Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"first name",name:"first_name",id:"1",value:n.first_name,placeholder:"First name here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"last name",name:"last_name",id:"2",value:n.last_name,placeholder:"Last name here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-3",label:"username",name:"username",id:"3",value:n.username,placeholder:"username here...",disabled:!0,required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-3",label:"email",name:"email",type:"email",id:"4",value:n.email,placeholder:"email here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"role",name:"role",type:"select",id:"5",value:n.role,options:[{label:"Admin",value:"admin"},{label:"Pharmacy Owner",value:"pharmacy owner"},{label:"Supervisor",value:"supervisor"},{label:"Pharmacist",value:"pharmacist"},{label:"User",value:"user"}],disabled:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",id:"6",label:"Gender",name:"gender",type:"radio",value:n.gender,options:[{label:"Male",value:"m"},{label:"Female",value:"f"}]}),Object(_.jsx)(ft,{className:"flex flex-col col-span-2",id:"7",value:n.phone_number}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"status",name:"status",type:"select",id:"8",value:n.status,options:[{label:"Activated",value:"active"},{label:"Non-activated",value:"non-active"},{label:"banned",value:"banned"}]}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"state",name:"state",type:"select",id:"9",value:n.state,options:[{label:"Khartoum",value:"khartoum"}]}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"city",name:"city",id:"10",type:"select",options:[{label:"Khartoum",value:"khartoum"},{label:"Omdurman",value:"omdurman"},{label:"Bhary",value:"bhary"}],value:n.city,placeholder:"city name here..."}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"address",name:"address",id:"11",value:n.address,placeholder:"address line here..."})]})},Ft={data:{first_name:"",last_name:"",username:"",email:"",password:"",confirm_password:"",role:"user",gender:"",phone_number:"",status:"non-active",state:"khartoum",city:"",address:""},errors:{}},qt=["confirmation"],It=function(e){var a=e.confirmation,t=Object(F.a)(e,qt);return Object(_.jsx)(L,Object(i.a)({label:"password",name:"password",id:"password",type:"password",placeholder:"************",minLength:"6",maxLength:"20",pattern:a,escapePattern:!0,required:!0},t))},Et=function(e){var a=e.showState,t=Object(l.f)({data:Object(i.a)({},Ft.data),errors:Object(i.a)({},Ft.errors)}),s=Object(l.f)(O.tables.users.data),r=t.data;t.errors;return Object(l.a)(t).label("User Popup Form"),Object(_.jsxs)(Va,{title:"Add New User",state:a,className:"grid gap-x-5 gap-y-6 grid-cols-3 text-sm gray-inputs",formButtons:[{label:"Create New User",faClass:"fas fa-plus"}],onSubmit:Object(S.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(r.get());case 2:t=e.sent,oe({status:t.status,successMsg:"User has been created successfully!",successCallback:function(){var e=Object(S.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.set(Object(i.a)({},Ft.data)),e.next=3,Y();case 3:t=e.sent,n=t.data,s.set(n),a.set(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 5:case"end":return e.stop()}}),e)}))),children:[Object(_.jsx)(L,{className:"flex flex-col",label:"first name",name:"first_name",id:"1",value:r.first_name,placeholder:"First name here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"last name",name:"last_name",id:"2",value:r.last_name,placeholder:"Last name here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"username",name:"username",id:"3",value:r.username,placeholder:"username here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"email",name:"email",type:"email",id:"4",value:r.email,placeholder:"email here...",required:!0}),Object(_.jsx)(It,{className:"flex flex-col",value:r.password}),Object(_.jsx)(It,{label:"Confirm Password",className:"flex flex-col col-span-1",confirmation:r.password.value,value:r.confirm_password}),Object(_.jsx)(L,{className:"flex flex-col",label:"role",name:"role",type:"select",id:"5",value:r.role,options:[{label:"Admin",value:"admin"},{label:"Pharmacy Owner",value:"pharmacy owner"},{label:"User",value:"user"}]}),Object(_.jsx)(L,{className:"flex flex-col",id:"6",label:"Gender",name:"gender",type:"radio",value:r.gender,options:[{label:"Male",value:"m"},{label:"Female",value:"f"}]}),Object(_.jsx)(ft,{className:"flex flex-col",id:"7",value:r.phone_number}),Object(_.jsx)(L,{className:"flex flex-col",label:"status",name:"status",type:"select",id:"8",value:r.status,options:[{label:"Activated",value:"active"},{label:"Non-activated",value:"non-active"},{label:"banned",value:"banned"}]}),Object(_.jsx)(L,{className:"flex flex-col",label:"state",name:"state",type:"select",id:"9",value:r.state,options:[{label:"Khartoum",value:"khartoum"}]}),Object(_.jsx)(L,{className:"flex flex-col",label:"city",name:"city",id:"10",value:r.city,type:"select",options:[{label:"Khartoum",value:"khartoum"},{label:"Omdurman",value:"omdurman"},{label:"Bhary",value:"bhary"}],placeholder:"city name here..."}),Object(_.jsx)(L,{className:"flex flex-col col-span-3",label:"address",name:"address",id:"11",value:r.address,placeholder:"address line here..."})]})},Lt=function(){var e=Object(l.f)(O).tables.users;Object(l.a)(e).label("Users");var a=Object(y.i)().id,t=Object(l.f)(!1),r=Object(l.f)({columnName:"id",order:"desc"});return Object(s.useEffect)((function(){if("number"===typeof+a){var t=e.data.find((function(e){return e.id.value===+a}));t&&e.filters.search.set(t.first_name.value)}}),[a]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Users Management",faClass:"fas fa-users",addButton:{label:"Add New User",handler:function(){t.set(!0)}}}),Object(_.jsx)(Ma,{filters:Tt,filtersData:e.filters,data:e.data,columns:Bt,sortColumn:r,form:function(e,a){return Object(_.jsx)(Dt,{state:e,closeForm:a})},pagination:e.pagination}),Object(_.jsx)(Et,{showState:t})]})},Bt=[{title:"full name",sortProp:"full_name",wrapper:function(e){var a=e.id,t=e.first_name,s=e.last_name,r=e.edited,n=e.handleEdit;return Object(_.jsx)("button",{onClick:function(){return n(r?null:a.value)},className:"text-smd text-secondary underline font-medium hover:text-primary",children:"".concat(t.get()," ").concat(s.get())})}},{title:"username",prop:"username"},{title:"email",prop:"email"},{title:"gender",sortProp:"gender",wrapper:function(e){return"m"===e.gender.get()?"male":"female"}},{title:"role",prop:"role"},{title:"status",prop:"status"},{title:"last seen",sortable:!1,prop:"last_seen",defaultValue:"Not logged in yet"},{title:"joining date",prop:"joining_date"},{title:"manage",sortable:!1,wrapper:function(e){var a=e.id,t=e.edited,s=e.handleEdit;return Object(_.jsx)(qa,{id:a,edited:t,onEdit:s,onDelete:Object(S.a)(C.a.mark((function e(){var t,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==window.confirm("Are you sure to delete this user item?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,K(a.get());case 5:t=e.sent,s=t.data,oe({status:t.status,waitMsg:"Deleting User...",successMsg:"User has been deleted successfully!",successCallback:function(){O.tables.users.data.set((function(e){return e.filter((function(e){return e.id!==s.id}))}))}});case 9:case"end":return e.stop()}}),e)})))})}}],Tt=[{label:"Search",type:"search",by:"first_name",prop:"search",placeholder:"enter the user name here..."},{label:"Role",type:"select",by:"role",prop:"role",wide:!0,options:[{label:"All",value:""},{label:"Admin",value:"admin"},{label:"Pharmacy Owner",value:"pharmacy owner"},{label:"Supervisor",value:"supervisor"},{label:"Pharmacist",value:"pharmacist"},{label:"User",value:"user"}]},{label:"Status",type:"select",by:"status",prop:"status",options:[{label:"All",value:""},{label:"Activated",value:"active"},{label:"Non-activated",value:"non-active"},{label:"banned",value:"banned"}]}],zt=function(e){var a=e.className,t=e.url,s=e.size,r=e.label,n=void 0===r?"Product Photo":r,c=e.name,o=void 0===c?"product_photo":c,i=Object(l.f)(O).uploads.productPhoto;return i.value&&(t={value:i.get().name},s={value:i.get().size}),Object(_.jsxs)("div",{className:a,children:[Object(_.jsx)("label",{htmlFor:"0",className:"mb-2 font-medium capitalize block",children:n}),Object(_.jsxs)("div",{className:"flex",style:{height:"calc(100% - 27px)"},children:[Object(_.jsx)("div",{className:"flex-shrink-0 border bg-white shadow p-2 bg-center bg-origin-content bg-no-repeat rounded-sm bg-contain w-1/3",style:{backgroundImage:"url('".concat(t.value,"')")},children:""===t.value||i.value?Object(_.jsx)("i",{className:"far fa-image text-5xl block text-center mt-6 text-gray-300"}):""}),Object(_.jsxs)("div",{className:"flex-grow ml-4",children:[Object(_.jsx)("p",{className:"rounded break-all bg-white border-dashed border-2 leading-5 p-2 text-xs",children:Object(_.jsxs)("dl",{children:[Object(_.jsx)("dt",{className:"inline-block font-semibold mr-1.5",children:"Name:"}),Object(_.jsx)("dd",{className:"inline-block",children:t.value.split("/").pop()}),Object(_.jsx)("br",{}),Object(_.jsx)("dt",{className:"inline-block font-semibold mr-2",children:"Size:"}),Object(_.jsxs)("dd",{className:"inline-block",children:[(s.value/1e3).toFixed(1)," KB"]})]})}),Object(_.jsxs)("div",{className:"mt-3 leading-4",children:[""!==t.value&&Object(_.jsx)(Fa,{onDelete:function(){""===i.value?(t.set(""),s.set("")):i.set("")}}),Object(_.jsx)(L,{id:"0",name:o,value:i,type:"file",inputOnly:!0})]})]})]})]})},Rt=function(e){var a=e.state,t=e.closeForm,s=e.className,r=void 0===s?"grid gap-x-5 gap-y-6 grid-cols-8":s,n=Object(l.f)(JSON.parse(JSON.stringify(a.value)));return Object(l.a)(n).label("Product Edit Form State"),Object(_.jsxs)(Ta,{className:r,onSubmit:Object(S.a)(C.a.mark((function e(){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=n.value,Promise.resolve({data:r,status:200});case 2:s=e.sent,oe({status:s.status,waitMsg:"Updating Product Information...",successMsg:"Product has been updated successfully!",successCallback:function(){return Object(S.a)(C.a.mark((function e(){var s,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,la(n.id.value);case 2:s=e.sent,r=s.status,c=s.data,oe({status:r,waitMsg:"Uploading Product Photo...",successMsg:"Product Photo has been uploaded successfully!",successCallback:function(){a.set(JSON.parse(JSON.stringify(n.value))),a.photo.merge(c),t()}});case 6:case"end":return e.stop()}}),e)})))()}});case 5:case"end":return e.stop()}var r}),e)}))),children:[Object(_.jsx)(zt,{className:"col-span-2 row-span-2",url:n.photo.url,size:n.photo.size}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"product name",name:"product_name",id:"1",value:n.name,placeholder:"enter product name here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"barcode",name:"barcode",id:"2",value:n.barcode,placeholder:"barcode here..."}),Object(_.jsx)(L,{className:"flex flex-col",label:"unit size",name:"unit_size",id:"3",value:n.unit,placeholder:"e.g. 6 Capsules",required:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"need perspection?",name:"perspection",type:"radio",value:n.need_perspection,options:[{label:"Yes",value:!0},{label:"No",value:!1}]}),Object(_.jsx)(Ea,{className:"flex flex-col col-span-2",id:"4",value:n.category,required:!0}),Object(_.jsx)(La,{className:"flex flex-col col-span-2",id:"5",value:n.company,required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"ingredient",name:"ingredient",id:"6",value:n.ingredient}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"product description",name:"description",id:"7",value:n.description,type:"textarea"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"usage instructions",name:"usage",id:"8",value:n.usage,type:"textarea"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"warnings",name:"warnings",id:"9",value:n.warnings,type:"textarea"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"side effects",name:"side_effects",id:"10",value:n.side_effects,type:"textarea"})]})},Ut={data:{name:"",barcode:"",unit:"",category:"",company:"",photo:{url:"",size:""},ingredient:"",need_perspection:!1,description:"",usage:"",warnings:"",side_effects:""},errors:{}},Jt=function(e){var a=e.showState,t=Object(l.e)({errors:Object(i.a)({},Ut.errors),data:Object(i.a)({},Ut.data)}),s=Object(l.e)(O),r=s.uploads.productPhoto,n=s.tables.products.data,c=t.data;t.errors;return Object(l.a)(t).label("Product Popup Form"),Object(_.jsxs)(Va,{title:"Add New Product",state:a,onClose:function(){r.set("")},formButtons:[{label:"Add Product",faClass:"fas fa-plus"}],className:"grid gap-x-5 gap-y-6 grid-cols-4 text-sm gray-inputs",onSubmit:Object(S.a)(C.a.mark((function e(){var t,s,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(c.get());case 2:t=e.sent,s=t.status,l=t.data,oe({status:s,successMsg:"Product Item has been added successfully!",successCallback:function(){var e=Object(S.a)(C.a.mark((function e(){var t,s,o,d,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r.get()){e.next=10;break}return c.set(Object(i.a)({},Ut.data)),a.set(!1),e.next=5,ra();case 5:t=e.sent,s=t.data,n.set(s),e.next=16;break;case 10:return e.next=12,la(l.id);case 12:o=e.sent,d=o.status,u=o.data,oe({status:d,waitMsg:"Uploading Product Photo...",successMsg:"Product Photo has been uploaded successfully!",successCallback:function(){l.photo=u,c.set(Object(i.a)({},Ut.data)),r.set(""),a.set(!1),Object(S.a)(C.a.mark((function e(){var a,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra();case 2:a=e.sent,t=a.data,n.set(t);case 5:case"end":return e.stop()}}),e)})))()}});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 6:case"end":return e.stop()}}),e)}))),children:[Object(_.jsx)(zt,{className:"col-span-2 row-span-2",url:c.photo.url,size:c.photo.size}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"product name",name:"product_name",id:"1",value:c.name,placeholder:"enter product name here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"barcode",name:"barcode",id:"2",value:c.barcode,placeholder:"barcode here..."}),Object(_.jsx)(L,{className:"flex flex-col",label:"unit size",name:"unit_size",id:"3",value:c.unit,placeholder:"e.g. 6 Capsules",required:!0}),Object(_.jsx)(L,{className:"flex flex-col",label:"need perspection?",name:"perspection",type:"radio",value:c.need_perspection,options:[{label:"Yes",value:!0},{label:"No",value:!1}]}),Object(_.jsx)(Ea,{className:"flex flex-col col-span-2",id:"4",value:c.category,required:!0}),Object(_.jsx)(La,{className:"flex flex-col col-span-2",id:"5",value:c.company,required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"ingredient",name:"ingredient",id:"6",value:c.ingredient}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"product description",name:"description",id:"7",value:c.description,type:"textarea"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"usage instructions",name:"usage",id:"8",value:c.usage,type:"textarea"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"warnings",name:"warnings",id:"9",value:c.warnings,type:"textarea"}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"side effects",name:"side_effects",id:"10",value:c.side_effects,type:"textarea"})]})},Vt=function(){var e=Object(l.f)(O),a=e.tables.products,t=e.uploads.productPhoto;Object(l.a)(a).label("Product");var r=Object(y.i)().id,n=Object(l.f)(!1),c=Object(l.f)({columnName:"id",order:"desc"});return Object(s.useEffect)((function(){if("number"===typeof+r){var e=a.data.find((function(e){return e.id.value===+r}));e&&a.filters.search.set(e.name.value)}}),[r]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Products Catalog",faClass:"fas fa-boxes",addButton:{label:"Add New Product",handler:function(){n.set(!0)}}}),Object(_.jsx)(Ma,{filters:Wt,filtersData:a.filters,data:a.data,columns:Gt,sortColumn:c,form:function(e,a){return Object(_.jsx)(Rt,{state:e,closeForm:function(){a(),t.set("")}})},pagination:a.pagination}),Object(_.jsx)(Jt,{showState:n})]})},Gt=[{title:"Products List",sortProp:"id",wrapper:function(e){var a=e.name,t=e.photo,s=e.unit,r=e.id,n=e.edited,c=e.handleEdit;return Object(_.jsx)(Ia,{name:a.value,photo:t.url.value,unit:s.value,id:r,edited:n,onEdit:c})}},{title:"barcode",prop:"barcode"},{title:"category",prop:"category"},{title:"company",prop:"company"},{title:"ingredient",sortProp:"ingredient",wrapper:function(e){return e.ingredient.value||"Unknown"}},{title:"need perspection?",sortProp:"need_perspection",wrapper:function(e){return e.need_perspection.value?"Yes":"No"}},{title:"manage",sortable:!1,wrapper:function(e){var a=e.id,t=e.edited,s=e.handleEdit;return Object(_.jsx)(qa,{id:a,edited:t,onEdit:function(e){s(e),O.uploads.productPhoto.set("")},onDelete:Object(S.a)(C.a.mark((function e(){var t,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==window.confirm("Are you sure to delete this product?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,na(a.get());case 5:t=e.sent,s=t.data,oe({status:t.status,waitMsg:"Deleting Product...",successMsg:"Product has been deleted successfully!",successCallback:function(){O.tables.products.data.set((function(e){return e.filter((function(e){return e.id!==s.id}))}))}});case 9:case"end":return e.stop()}}),e)})))})}}],Wt=[{label:"Search",type:"search",by:"name",prop:"search",placeholder:"enter the product name here..."},{label:"Category",type:"select",by:"category",prop:"category",options:[{label:"All",value:""}].concat(Object(te.a)([{id:1,label:"Analgesics",value:"analgesics"},{id:2,label:"Antacids",value:"antacids"},{id:3,label:"Antianxiety Drugs",value:"antianxiety drugs"},{id:4,label:"Antiarrhythmics",value:"antiarrhythmics"},{id:5,label:"Antibacterials",value:"antibacterials"},{id:6,label:"Antibiotics",value:"antibiotics"}])),wide:!0},{label:"Company",type:"select",by:"company",prop:"company",options:[{label:"All",value:""}].concat(Object(te.a)([{id:1,label:"Ovex",value:"Ovex"},{id:2,label:"Diarrhoea",value:"Diarrhoea"},{id:3,label:"ORS",value:"ORS"},{id:4,label:"Flarin",value:"Flarin"},{id:5,label:"Anadin",value:"Anadin"}]))}],Yt=function(e){var a=e.label,t=e.className,r=e.children,n=e.contentClassName,c=void 0===n?"p-5":n,l=Object(s.useState)(!0),o=Object(Pe.a)(l,2),i=o[0],d=o[1],u=Object(s.useCallback)((function(){d(!i)}),[i]);return Object(_.jsxs)("section",{className:"".concat(i?"shadow-md":"shadow"," rounded ").concat(t),children:[Object(_.jsxs)("h3",{onClick:u,className:"".concat(i?"rounded-t":"rounded"," bg-gray cursor-pointer items-center flex text-sm text-gray-600 select-none border-b-2 px-4 py-3 font-semibold"),children:[a,Object(_.jsx)("i",{className:"fas fa-angle-".concat(i?"up":"down"," text-gray-300 ml-auto")})]}),i&&Object(_.jsx)("div",{className:"text-sm bg-white rounded-b select-none ".concat(c),children:r})]})},Kt=function(e,a,t){return Promise.resolve({data:t,status:200})},Xt=function(e,a){return Promise.resolve({data:a,status:200})},Ht=function(e){var a=e.label,t=e.children,r=Object(s.useState)(!1),n=Object(Pe.a)(r,2),c=n[0],l=n[1];return Object(_.jsxs)("section",{className:"shadow overflow-hidden".concat(c?"":" border-b-2 last:border-b-0"),children:[Object(_.jsxs)("h4",{onClick:function(){return l(!c)},className:"flex cursor-pointer items-center bg-secondary font-semibold text-sm text-white shadow px-3 py-2",children:[a,Object(_.jsxs)("span",{className:"bg-white rounded-sm shadow text-secondary ml-2 text-xxs px-1.5",children:[Object(_.jsx)("i",{className:"fas fa-check"})," Active"]}),Object(_.jsx)("i",{className:"fas fa-angle-".concat(c?"up":"down"," ml-auto text-xs")})]}),c&&t]})},$t=function(e){var a=e.data,t=e.onSave,s=e.onDeactivate;return Object(_.jsx)(Ht,{label:"ATM Card",children:Object(_.jsxs)("form",{onSubmit:t,className:"p-4 select-none bg-gray grid gap-y-5 grid-cols-1",children:[Object(_.jsx)(L,{label:"card no",name:"card_no",id:"card_no",type:"number",value:a.card_no,required:!0}),Object(_.jsx)(L,{label:"card owner name",name:"card_onwer_name",id:"card_onwer_name",value:a.card_owner_name,required:!0}),Object(_.jsx)(L,{label:"bank name",name:"bank_name",id:"bank_name",value:a.bank_name,required:!0}),Object(_.jsxs)("div",{className:"flex justify-end",children:[Object(_.jsx)(A,{label:"Deactivate",faClass:"fas fa-times text-red",className:"bg-white text-black shadow-md hover:text-red",type:"button",onClick:s}),Object(_.jsx)(A,{label:"Save"})]})]})})},Zt=function(e){var a=e.data,t=e.onSave,s=e.onDeactivate;return Object(_.jsx)(Ht,{label:"MBOK",children:Object(_.jsxs)("form",{onSubmit:t,className:"p-4 select-none bg-gray grid gap-y-5 grid-cols-1",children:[Object(_.jsx)(L,{label:"account no",name:"mbok_account_no",id:"mbok_account_no",type:"number",value:a.account_no,required:!0}),Object(_.jsx)(L,{label:"account onwer name",name:"mbok_account_name",id:"mbok_account_name",value:a.account_owner_name,required:!0}),Object(_.jsx)(L,{label:"account branch name",name:"mbok_account_branch",id:"mbok_account_branch",value:a.bank_branch_name,required:!0}),Object(_.jsxs)("div",{className:"flex justify-end",children:[Object(_.jsx)(A,{label:"Deactivate",faClass:"fas fa-times text-red",className:"bg-white text-black shadow-md hover:text-red",type:"button",onClick:s}),Object(_.jsx)(A,{label:"Save"})]})]})})},Qt=function(e){var a=e.option,t=e.data,r=(e.branchId,""!==t["mbok"===a?"account_no":"card_no"].value),n=Object(s.useState)(r),c=Object(Pe.a)(n,2),o=c[0],i=c[1],d=Object(l.e)(JSON.parse(JSON.stringify(t.value))),u=function(){var e=Object(S.a)(C.a.mark((function e(s){var r,n,c=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]&&c[1],s.preventDefault(),e.next=4,Kt(0,0,d.get());case 4:n=e.sent,oe({status:n.status,waitMsg:"Saving Changes...",successMsg:'Payment option "'.concat(a,r?'" has been deactivated successfully!':'" has been changed successfully!'),successCallback:function(){t.set(JSON.parse(JSON.stringify(d.value))),r&&i(!1)}});case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),m=function(e){!1!==window.confirm("Are you sure to deactivate this payment option?")&&("mbok"===a?(d.account_no.set(""),d.account_owner_name.set(""),d.bank_branch_name.set("")):(d.card_no.set(""),d.card_onwer_name.set(""),d.bank_name.set("")),u(e,!0))};return Object(_.jsx)(_.Fragment,{children:o?"mbok"===a?Object(_.jsx)(Zt,{data:d,onSave:u,onDeactivate:m}):Object(_.jsx)($t,{data:d,onSave:u,onDeactivate:m}):Object(_.jsxs)("h4",{className:"flex items-center bg-gray border-t font-semibold text-sm shadow px-3 py-2",children:["mbok"===a?"MBOK":"ATM Card"," -"," ",Object(_.jsx)("i",{children:"Not Activated Yet"}),Object(_.jsx)("button",{type:"button",onClick:function(){i(!0)},className:"text-xxs font-semibold ml-auto px-2 py-0.5 shadow-md rounded-sm bg-secondary hover:bg-primary text-white",children:"Activate"})]})})},es=function(e){var a=e.data,t=a.id,r=a.support_delivery,n=a.delivery_cost,c=Object(l.e)({support_delivery:r.value,delivery_cost:n.value});Object(s.useEffect)((function(){!1===c.support_delivery.value&&c.delivery_cost.set(0)}),[c.support_delivery.value]);var o=function(){var e=Object(S.a)(C.a.mark((function e(a){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t.value,l={support_delivery:c.support_delivery.value,delivery_cost:c.delivery_cost.value},Promise.resolve({data:l,status:200});case 3:s=e.sent,oe({status:s.status,waitMsg:"Changing delivery option...",successMsg:"Delivery option has been ".concat(c.support_delivery.value?"enabled with cost of ".concat(c.delivery_cost.value," SDG"):"disabled"," successfully!"),successCallback:function(){r.set(c.support_delivery.value),n.set(c.delivery_cost.value)}});case 6:case"end":return e.stop()}var l}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(_.jsxs)("form",{onSubmit:o,className:"grid gap-y-5 text-smd",children:[Object(_.jsx)(L,{className:"flex flex-col",id:"support_delivery",label:"Do you offer home delivery?",name:"support_delivery",type:"radio",value:c.support_delivery,booleanValue:!0,options:[{label:"Yes, Enable Delivery",value:!0},{label:"No",value:!1}]}),Object(_.jsx)(L,{label:"delivery cost (SDG)",name:"delivery_cost",id:"delivery_cost",type:"number",disabled:!c.support_delivery.value,value:c.delivery_cost}),Object(_.jsx)("div",{className:"text-right",children:Object(_.jsx)(A,{label:"Save"})})]})},as=function(e){var a=e.data,t=Object(l.e)(JSON.parse(JSON.stringify(a.value)));return Object(_.jsxs)("form",{onSubmit:function(){var e=Object(S.a)(C.a.mark((function e(s){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.next=3,Xt(a.id.value,{name:t.name.value,branch:t.branch.value,phone_numbers:t.phone_numbers.map((function(e){return e.value})),website:t.website.value,state:t.state.value,city:t.city.value,address:t.address.value});case 3:r=e.sent,oe({status:r.status,waitMsg:"Saving Changes...",successMsg:"Pharmacy information has been changed successfully!",successCallback:function(){a.set(JSON.parse(JSON.stringify(t.value)))}});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),children:[Object(_.jsxs)("div",{className:"grid grid-cols-4 gap-5 text-smd",children:[Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"pharmacy name",name:"pharmacy_name",id:"1",value:t.name,required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"branch name",name:"branch_name",id:"2",value:t.branch,required:!0}),Object(_.jsx)(ft,{className:"flex flex-col col-span-2",label:"phone number 1",name:"phone_number_1",id:"3",value:t.phone_numbers[0],required:!0}),Object(_.jsx)(ft,{className:"flex flex-col col-span-2",label:"phone number 2",name:"phone_number_2",id:"4",value:t.phone_numbers[1]}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"pharmacy email",name:"email",type:"email",id:"5",value:t.email,placeholder:"email here..."}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"pharmacy website",name:"website",type:"url",id:"6",value:t.website,placeholder:"pharmacy website link here..."}),Object(_.jsx)(L,{className:"flex flex-col",label:"state",name:"state",type:"select",id:"9",value:t.state,options:[{label:"Khartoum",value:"khartoum"}]}),Object(_.jsx)(L,{className:"flex flex-col",label:"city",name:"city",id:"10",type:"select",options:[{label:"Khartoum",value:"khartoum"},{label:"Omdurman",value:"omdurman"},{label:"Bhary",value:"bhary"}],value:t.city,placeholder:"city name here..."}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"address",name:"address",id:"11",value:t.address,placeholder:"address line here..."}),Object(_.jsx)(qe,{label:"Location in the map",className:"flex flex-col col-span-4",coordinates:{lat:t.lat,lng:t.lng}})]}),Object(_.jsx)("div",{className:"text-right mt-5",children:Object(_.jsx)(A,{label:"Save Changes"})})]})},ts=function(){var e=Object(l.f)(O).pharmacyBranch,a=Object(l.f)(e.vat.value);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Pharmacy Settings",faClass:"fas fa-cogs"}),Object(_.jsxs)("div",{className:"grid grid-cols-3 gap-5 items-start animate__animated animate__fadeIn",children:[Object(_.jsx)(Yt,{label:"Pharmacy Information",className:"col-span-2",contentClassName:"p-5 gray-inputs",children:Object(_.jsx)(as,{data:e})}),Object(_.jsxs)("aside",{children:[Object(_.jsxs)(Yt,{label:"Online Order Option",contentClassName:"overflow-hidden",children:[Object(_.jsxs)(D,{className:"text-smd m-5",children:[Object(_.jsx)("strong",{children:"Note:"})," To enable online ordering for your pharmacy products, you must activate at least one of the payment methods below."]}),Object(_.jsx)(Qt,{branchId:e.id.value,option:"mbok",data:e.payment_options.mbok}),Object(_.jsx)(Qt,{branchId:e.id.value,option:"atm_card",data:e.payment_options.atm_card})]}),Object(_.jsxs)(Yt,{label:"VAT Option",className:"mt-5 gray-inputs",children:[Object(_.jsxs)(D,{className:"text-smd mb-5",children:[Object(_.jsx)("strong",{children:"Note:"})," This VAT will be added to the total price of online and local orders."]}),Object(_.jsxs)("form",{onSubmit:function(){var t=Object(S.a)(C.a.mark((function t(s){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.next=3,n=void 0,Promise.resolve({data:n,status:200});case 3:r=t.sent,oe({status:r.status,waitMsg:"Setting new VAT amount...",successMsg:"VAT amount has been changes successfully!",successCallback:function(){e.vat.set(+a.value)}});case 6:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}(),className:"text-smd",children:[Object(_.jsx)(L,{label:"VAT amount (SDG)",name:"vat",id:"pharmacy_vat",value:a,type:"number",min:"0"}),Object(_.jsx)("div",{className:"mt-5 text-right",children:Object(_.jsx)(A,{label:"save"})})]})]}),Object(_.jsxs)(Yt,{label:"Delivery Option",className:"mt-5 gray-inputs",children:[Object(_.jsxs)(D,{className:"text-smd mb-5",children:[Object(_.jsx)("strong",{children:"Note:"})," If home delivery is enabled, users of the search platform will be able to order medicines with the option of home delivery. Your delivery service should be statewide and at a fixed price for all orders."]}),Object(_.jsx)(es,{data:e})]})]})]})]})},ss={newPassword:"",confirmPassword:"",oldPassword:""},rs=function(){var e=Object(l.e)(O).loggedUser,a=Object(l.e)(Object(i.a)({},ss));return Object(_.jsxs)(Ta,{className:"grid gap-y-5",onSubmit:Object(S.a)(C.a.mark((function t(){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.id.value,r=a.value,console.dir(r),Promise.resolve({data:r,status:200});case 2:s=t.sent,oe({status:s.status,waitMsg:"Changing Password...",successMsg:"Your password has been changed successfully!",successCallback:function(){a.set(Object(i.a)({},ss))}});case 5:case"end":return t.stop()}var r}),t)}))),formButtons:[{label:"Change Password",faClass:"fas fa-exchange-alt"}],children:[Object(_.jsx)(It,{className:"flex flex-col",value:a.newPassword,placeholder:"Your new password here..."}),Object(_.jsx)(It,{className:"flex flex-col",label:"confirm password",name:"confirm_password",id:"confirm_password",value:a.confirmPassword,confirmation:a.newPassword.value,placeholder:"Confirm your new password here..."}),Object(_.jsx)(It,{className:"flex flex-col",label:"old password",name:"old_password",id:"old_password",value:a.oldPassword,placeholder:"Your old password here..."})]})},ns=function(e){var a=e.data,t=Object(l.f)(JSON.parse(JSON.stringify(a.value)));return Object(l.a)(t).label("Personal Information Form State"),Object(_.jsxs)(Ta,{className:"grid gap-5 grid-cols-6",onSubmit:Object(S.a)(C.a.mark((function e(){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(a.get());case 2:s=e.sent,oe({status:s.status,waitMsg:"Updating Account Information...",successMsg:"Your personal information has been updated successfully!",successCallback:function(){a.set(JSON.parse(JSON.stringify(t.value)))}});case 5:case"end":return e.stop()}}),e)}))),children:[Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"first name",name:"first_name",id:"1",value:t.first_name,placeholder:"First name here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"last name",name:"last_name",id:"2",value:t.last_name,placeholder:"Last name here...",required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"username",name:"username",id:"3",value:t.username,placeholder:"username here...",disabled:!0,required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"email",name:"email",type:"email",id:"4",value:t.email,placeholder:"email here...",required:!0}),Object(_.jsx)(ft,{className:"flex flex-col col-span-2",id:"7",value:t.phone_number}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",id:"6",label:"Gender",name:"gender",type:"radio",value:t.gender,options:[{label:"Male",value:"m"},{label:"Female",value:"f"}]}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"state",name:"state",type:"select",id:"9",value:t.state,options:[{label:"Khartoum",value:"khartoum"}]}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"city",name:"city",id:"10",value:t.city,type:"select",options:[{label:"Khartoum",value:"khartoum"},{label:"Omdurman",value:"omdurman"},{label:"Bhary",value:"bhary"}],placeholder:"city name here..."}),Object(_.jsx)(L,{className:"flex flex-col col-span-2",label:"address",name:"address",id:"11",value:t.address,placeholder:"address line here..."})]})},cs=function(){var e=Object(l.e)(O).loggedUser;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Account Settings",faClass:"fas fa-user-cog"}),Object(_.jsxs)("div",{className:"grid grid-cols-3 gap-5 items-start animate__animated animate__fadeIn",children:[Object(_.jsx)(Yt,{label:"Personal Information",className:"col-span-2",contentClassName:"p-5 gray-inputs text-smd",children:Object(_.jsx)(ns,{data:e})}),Object(_.jsx)("aside",{children:Object(_.jsx)(Yt,{label:"Change your password",contentClassName:"p-5 gray-inputs text-smd",children:Object(_.jsx)(rs,{})})})]})]})},ls=t(16),os=function(e){var a=e.result,t=e.onSelect,s=+a.stock.get()>0;return Object(_.jsx)("li",{className:"border-b last:border-b-0",children:Object(_.jsxs)("button",{onClick:function(){return s&&t()},className:"px-3 py-2 text-left w-full ".concat(s?"hover:bg-gray-100":"text-gray-500 italic bg-gray-100 cursor-not-allowed"),children:[Object(_.jsx)("span",{children:a.name.get()}),Object(_.jsxs)("p",{className:"text-gray-500 block text-left leading-5",children:[Object(_.jsx)("span",{children:a.unit.get()}),Object(_.jsx)("span",{className:"float-right font-medium text-xxs ".concat(s?"text-green":"text-red"),children:s?"In Stock":"Out of Stock"})]})]})})},is=function(e){var a,t=e.label,r=void 0===t?"Products Search":t,n=e.placeholder,c=void 0===n?"":n,o=e.className,d=void 0===o?"":o,u=e.products,m=e.value,b=Object(s.useState)(!1),p=Object(Pe.a)(b,2),f=p[0],j=p[1],h=Object(l.e)(O.tables.inventory.data),x=Object(s.useState)([]),v=Object(Pe.a)(x,2),g=v[0],y=v[1],w=Object(s.useState)(!1),N=Object(Pe.a)(w,2),k=N[0],C=N[1];return Object(_.jsxs)("div",{className:"inline-block font-medium relative mr-5 ".concat(d),children:[Object(_.jsx)("label",{htmlFor:r,className:"mr-2",children:r}),Object(_.jsx)("input",(a={id:r,className:"inline-block py-1.5 px-2 w-72 border border-gray-300 rounded-sm shadow focus:outline-none",type:"search",placeholder:c},Object(ls.a)(a,"type","search"),Object(ls.a)(a,"autoComplete","off"),Object(ls.a)(a,"value",m.get()),Object(ls.a)(a,"onInput",(function(){j(!0)})),Object(ls.a)(a,"onFocus",(function(){C(!0),0===g.length&&y(h)})),Object(ls.a)(a,"onChange",(function(e){var a=e.target;m.set(a.value),y(h.filter((function(e){return-1!==e.name.get().search(new RegExp("".concat(a.value),"i"))}))),j(!1)})),a)),Object(_.jsx)("i",{className:"fas fa-search absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-300"}),k&&Object(_.jsx)("div",{className:"bg-white absolute z-30 right-0 w-72 max-h-64 overflow-y-auto rounded-sm border shadow mt-2",children:f?Object(_.jsx)(oa,{label:"Searching",className:"flex text-gray-500"}):g.length?Object(_.jsx)("ul",{children:g.map((function(e){return Object(_.jsx)(os,{result:e,onSelect:function(){u.set((function(a){var t=!1;return a.forEach((function(a){+a.id===+e.id.get()&&(a.stock>a.qty&&a.qty++,t=!0)})),t?a:[Object(i.a)(Object(i.a)({},e.get()),{},{qty:1})].concat(Object(te.a)(a))})),m.set(""),C(!1)}})}))}):Object(_.jsx)("span",{className:"p-4 block text-center",children:"No Result Found"})})]})},ds=function(e){var a=e.display,t=e.totalAmount,s=e.discount,r=Object(l.e)({amount:s.amount.get(),unit:s.unit.get()}),n=r.amount,c=r.unit;return Object(_.jsxs)(Va,{title:"Make a Discount",faClass:"fas fa-percent",style:{minWidth:"30%",width:300},state:a,formButtons:[{label:"Apply Discount",faClass:""}],className:"grid gap-x-5 gap-y-6 grid-cols-4 text-sm",onSubmit:function(){s.set({amount:n.get(),unit:c.get()}),a.set(!1)},children:[Object(_.jsx)(L,{className:"col-span-2",label:"discount amount",name:"discount_amount",id:"discount_amount",type:"number",value:n,max:"%"===c.get()?100:t,min:"0"}),Object(_.jsx)(L,{className:"col-span-2",label:"unit",name:"discount_unit",id:"discount_unit",type:"select",value:c,options:[{label:"SDG",value:"SDG"},{label:"%",value:"%"}]})]})},us=function(e){var a=e.products,t=e.discount,s=e.vat,r=Object(l.e)({display:!1,data:{}}),n=Object(l.e)(!1),c=Object(l.e)(O).loggedUser,o=Object(l.e)("cash"),i=0,d=0;a.forEach((function(e){i+=+e.qty.get(),d+=e.qty.get()*e.price.get()})),0===a.length&&0!==t.amount.get()&&t.amount.set(0);var u=0,m=0,b=0;return"%"===t.unit.get()?(u=+t.amount.get(),b=d*t.amount.get()/100,m=d-b+s.get()):(u=t.amount.get()/d*100||0,b=+t.amount.get(),m=d-b+s.get()),b>d&&t.amount.set(d),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("h3",{className:"font-semibold mb-5 inline-block pb-2 border-b-2 border-dashed border-gray-300",children:[Object(_.jsx)("i",{className:"fas fa-file-invoice-dollar mr-2 text-primary"}),Object(_.jsx)("span",{children:"Order Summary"})]}),Object(_.jsxs)("div",{className:"bg-white rounded shadow-md p-4 text-smd",children:[Object(_.jsxs)("p",{className:"flex justify-between pb-2",children:[Object(_.jsxs)("span",{children:["Basket Total (",i,")"]}),Object(_.jsxs)("span",{children:[d," SDG"]})]}),Object(_.jsxs)("p",{className:"flex justify-between pb-2",children:[Object(_.jsxs)("span",{children:["Discount (",u.toFixed(1),"%)",Object(_.jsx)("button",{title:"Add discount to order",className:"text-smd ml-1 fas fa-plus-circle shadow rounded-full text-secondary hover:text-primary",onClick:function(){n.set(!0)}})]}),Object(_.jsxs)("span",{children:["- ",b," SDG"]})]}),Object(_.jsxs)("p",{className:"flex text-gray-400 justify-between pb-3",children:[Object(_.jsx)("span",{children:"VAT"}),Object(_.jsxs)("span",{children:["+ ",s.get()," SDG"]})]}),Object(_.jsxs)("p",{className:"flex justify-between font-semibold text-sm pt-3 border-t-2 border-dashed border-gray-300",children:[Object(_.jsx)("span",{children:"Total"}),Object(_.jsxs)("span",{className:"text-primary",children:[m," SDG"]})]})]}),0!==a.length&&Object(_.jsx)("div",{className:"bg-white rounded shadow-md p-4 text-smd mt-6",children:Object(_.jsx)(L,{name:"payment_method",label:"Payment Method",type:"select",value:o,options:[{label:"Cash",value:"Cash"},{label:"MBOK",value:"MBOK"},{label:"ATM Card",value:"ATM Card"}]})}),Object(_.jsx)("div",{className:"grid grid-cols-1 gap-y-4 mt-6",children:0!==a.length&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A,{className:"w-full bg-primary shadow-md text-white hover:bg-secondary",label:"Confirm the Order",faClass:"fas fa-receipt",onClick:Object(S.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aa({type:"local",status:"finished",handled_by:{id:c.id.get(),name:"".concat(c.first_name.get()," ").concat(c.last_name.get())},date:(new Date).toJSON(),products:a.map((function(e){var a=e.id,t=e.price,s=e.qty,r=e.name;return{id:a.get(),name:r.get(),price:t.get(),qty:s.get()}})),products_amount:d,discount:b,vat:s.get(),payment:{method:o.get(),proof:""}});case 2:t=e.sent,n=t.data,oe({status:t.status,waitMsg:"Making the order...",successMsg:"Order has been created successfully!",successCallback:function(){r.data.set(n),r.display.set(!0),Object(S.a)(C.a.mark((function e(){var a,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea();case 2:a=e.sent,t=a.data,O.tables.orders.data.set(t);case 5:case"end":return e.stop()}}),e)})))()}});case 6:case"end":return e.stop()}}),e)})))}),Object(_.jsx)(A,{className:"w-full bg-white shadow-md hover:text-red",label:"Cancel the Order",faClass:"fas fa-times text-red",onClick:function(){a.set([])}})]})}),Object(_.jsx)(Ua,{state:r.display,faClass:"fas fa-file-invoice",title:"Order Invoice",onClose:function(){a.set([])},children:Object(_.jsx)(yt,{data:r.data.get()})}),Object(_.jsx)(ds,{display:n,totalAmount:d,discount:t})]})},ms=[{title:"Order's Products List",sortProp:"id",wrapper:function(e){var a=e.name,t=e.photo,s=e.unit,r=e.id;e.edited,e.handleEdit;return Object(_.jsx)(Ia,{name:a.value,photo:t.value,unit:s.value,id:r})}},{title:"price",prop:"price"},{title:"stock",prop:"stock"},{title:"reserved",prop:"reserved"},{title:"expire date",prop:"expire_date"},{title:"QTY",width:80,wrapper:function(e){var a=e.id,t=e.qty,s=(e.reserved,e.stock);return console.log("-id: ",a.get()),Object(_.jsx)(L,{id:a.get(),name:"qty_".concat(a.get()),type:"number",value:t,max:s.get(),min:"1"})}},{title:"Subtotal",wrapper:function(e){var a=e.price,t=e.qty;return Object(_.jsxs)("strong",{children:[a.get()*t.get()," SDG"]})}},{title:"",wrapper:function(e){var a=e.id;return Object(_.jsx)(Fa,{onDelete:function(){return O.pos.products.set((function(e){return e.filter((function(e){return e.id!==a.value}))}))}})}}],bs=function(){var e=Object(l.e)(""),a=Object(l.e)(O.pos),t=a.discount,r=a.products,n=Object(l.e)(O.tables.inventory.data),c=Object(l.e)(O.pharmacyBranch).vat;return Object(s.useEffect)((function(){var e="";window.onkeypress=function(a){var t=a.keyCode,s=a.key;if(13===t){var c=n.find((function(a){return a.barcode.get()===e}));c&&r.set((function(e){var a=!1;return e.forEach((function(e){+e.id===+c.id.value&&(e.stock>e.qty&&e.qty++,a=!0)})),a?e:[Object(i.a)(Object(i.a)({},c.get()),{},{qty:1})].concat(Object(te.a)(e))})),e=""}else e+=s}}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Point of Sale",faClass:"fas fa-cash-register"}),Object(_.jsxs)("div",{className:"grid grid-cols-4 gap-5",children:[Object(_.jsxs)("div",{className:"col-span-3",children:[Object(_.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[Object(_.jsx)(is,{className:"flex-shrink-0",label:"Products Search",placeholder:"Search Product By Name Here...",products:r,value:e}),Object(_.jsxs)(D,{children:[Object(_.jsx)("strong",{children:"Note:"})," You can use"," ",Object(_.jsx)("i",{className:"fas fa-barcode"})," barcode reader to add the product to basket below."]})]}),Object(_.jsx)("div",{className:"mt-5",children:Object(_.jsx)(Ma,{data:r,columns:ms,animateRows:!0})})]}),Object(_.jsx)("section",{className:"col-span-1",children:Object(_.jsx)(us,{products:r,discount:t,vat:c})})]})]})},ps={data:{id:"",name:"",branch:"",phone_numbers:["",""],email:"",website:"",state:"khartoum",city:"",address:"",lat:15.4838,lng:32.5339},errors:{}},fs=function(e){var a=e.showState,t=e.formState,r=Object(l.f)({data:Object(i.a)({},ps.data),errors:Object(i.a)({},ps.errors)}),n=Object(l.f)(O),c=n.pharmacyBranches,o=n.loggedUser,d=r.data;r.errors;Object(l.a)(r).label("Pharmacy Popup Form");var u=t&&"pending"===t.status,m=Object(l.f)(!1);return Object(s.useEffect)((function(){d.set(t?JSON.parse(JSON.stringify(t)):Object(i.a)(Object(i.a)({},ps.data),{},{pharmacy_id:d.pharmacy_id.get(),name:d.name.get(),website:d.website.get(),email:d.email.get(),phone_numbers:["",""]}))}),[t]),Object(s.useEffect)((function(){Object(S.a)(C.a.mark((function e(){var a,t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==m.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,we(O.loggedUser.id.get());case 5:a=e.sent,t=a.data,r.data.merge(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),m.set(!0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()}),[m.value]),Object(_.jsxs)(Va,{title:"Add New Pharmacy Branch",state:a,className:"grid grid-cols-12 gap-x-5 gap-y-6 text-sm gray-inputs",formButtons:t&&"pending"===t.status?[]:[{label:t?"Resubmit Pharmacy Branch Info":"Add Pharmacy Branch",faClass:t?"fas fa-redo":"fas fa-plus"}],onSubmit:Object(S.a)(C.a.mark((function e(){var s,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t&&"rejected"===t.status,e.next=3,s?ve(d.get()):m.value?ge(d.get(),{id:o.id.get(),name:"".concat(o.first_name.get()," ").concat(o.last_name.get())}):Oe(d.get());case 3:r=e.sent,oe({status:r.status,successMsg:s?"Pharmacy Branch Info has been Resubmited successfully!":"New Pharmacy Branch has been added successfully!",successCallback:function(){var e=Object(S.a)(C.a.mark((function e(){var t,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.set(Object(i.a)(Object(i.a)({},ps.data),{},{pharmacy_id:d.pharmacy_id.get(),name:d.name.get(),website:d.website.get(),email:d.email.get(),phone_numbers:["",""]})),!0===m.value&&m.set(!1),e.next=4,ye(O.loggedUser.id.get());case 4:t=e.sent,s=t.data,c.set(s),a.set(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 6:case"end":return e.stop()}}),e)}))),children:[t&&Object(_.jsx)(D,{className:"col-span-full",children:"rejected"===t.status?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("strong",{children:"Note:"})," Your pharmacy branch has been rejected due to incorrect information about your branch, please review the information you entered and edit them to be correct and then resubmit the information again to be reviewd by our team."]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("strong",{children:"Note:"})," Our team will review your pharmacy branch information as soon as possible to verify from the information you entered and then activate it!"]})}),Object(_.jsx)(L,{className:"flex flex-col col-span-4",label:"pharmacy name",name:"name",id:"1",value:d.name,placeholder:"pharmacy name here...",disabled:!1===m.value,required:!0}),Object(_.jsx)(L,{className:"flex flex-col col-span-4",label:"branch name",name:"branch",id:"2",value:d.branch,placeholder:"branch name here...",required:!1===m.value,disabled:u}),Object(_.jsx)(ft,{className:"flex flex-col col-span-4",label:"phone number 1",name:"phone_number_1",id:"3",value:d.phone_numbers[0],disabled:u,required:!0}),Object(_.jsx)(ft,{className:"flex flex-col col-span-4",label:"phone number 2",name:"phone_number_2",id:"4",value:d.phone_numbers[1],disabled:u}),Object(_.jsx)(L,{className:"flex flex-col col-span-4",label:"email",name:"email",id:"5",type:"email",value:d.email,placeholder:"pharmacy email here...",disabled:u}),Object(_.jsx)(L,{className:"flex flex-col col-span-4",label:"website",name:"website",id:"6",type:"url",value:d.website,placeholder:"pharmacy website here...",disabled:u}),Object(_.jsx)(L,{className:"flex flex-col col-span-3",label:"state",name:"state",type:"select",id:"7",value:d.state,options:[{label:"Khartoum",value:"khartoum"}],required:!0,disabled:u}),Object(_.jsx)(L,{className:"flex flex-col col-span-3",label:"city",name:"city",id:"8",type:"select",options:[{label:"Khartoum",value:"khartoum"},{label:"Omdurman",value:"omdurman"},{label:"Bhary",value:"bhary"}],value:d.city,placeholder:"city name here...",required:!0,disabled:u}),Object(_.jsx)(L,{className:"flex flex-col col-span-6",label:"address",name:"address",id:"8",value:d.address,placeholder:"address line here...",required:!0,disabled:u}),Object(_.jsx)(qe,{className:"flex flex-col col-span-12",coordinates:{lat:d.lat,lng:d.lng},immutable:t&&"pending"===t.status,initZoom:t&&"pending"===t.status?void 0:9})]})},js=function(e){var a=e.onClick;return Object(_.jsxs)("button",{onClick:a,title:"Add New Pharmacy Branch",className:"group shadow-inner flex flex-col group py-12 hover:border-gray-400 border-2 border-dashed items-center rounded border-gray-300",children:[Object(_.jsx)("i",{className:"group-hover:text-shadow fas fa-plus text-6xl mb-8 group-hover:text-primary text-gray-300"}),Object(_.jsx)("strong",{className:"font-semibold text-gray-500 group-hover:text-black",children:"Add New Pharmacy Branch"})]})},hs=function(e){var a=e.data,t=a.status,s=a.name,r=a.branch,n=e.onClick,c="pending"===t?"gray-400":"rejected"===t?"red":"primary";return Object(_.jsxs)("button",{onClick:n,className:"animate__animated animate__flipInY flex flex-col py-12 hover:bg-".concat(c," justify-center group items-center relative bg-white shadow-md rounded"),children:[Object(_.jsx)("span",{className:"absolute top-0 right-0 group-hover:bg-white group-hover:text-".concat(c," text-xs text-white px-2.5 py-2 rounded-tr shadow-md font-semibold bg-").concat(c),children:t}),Object(_.jsx)("i",{className:"text-shadow fas fa-clinic-medical text-6xl mb-4 group-hover:text-white text-".concat(c)}),Object(_.jsx)("strong",{className:"font-semibold text-lg",children:s}),Object(_.jsx)("span",{className:"text-sm text-gray-500 group-hover:text-white",children:r})]})},xs=function(e){var a=e.history,t=Object(l.f)(O.pharmacyBranches),r=Object(l.f)(O.pharmacyBranch),n=Object(l.f)(!0),c=Object(l.f)(!1),o=Object(l.f)(void 0);r.id.ornull&&r.set({});var i=function(e){switch(e.status){case"active":r.set(JSON.parse(JSON.stringify(e))),a.push("/");break;case"rejected":case"pending":o.set(JSON.parse(JSON.stringify(e))),c.set(!0)}};return Object(s.useEffect)((function(){Object(S.a)(C.a.mark((function e(){var a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(O.loggedUser.id.get());case 2:a=e.sent,s=a.data,t.set(s),n.set(!1);case 6:case"end":return e.stop()}}),e)})))()}),[]),n.value?Object(_.jsx)(oa,{}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Da,{name:"Your Pharmacies",faClass:"fas fa-clinic-medical"}),Object(_.jsxs)("div",{className:"grid grid-cols-4 gap-8",children:[t.map((function(e,a){return Object(_.jsx)(hs,{data:e.get(),onClick:function(){return i(e.get())}},e.id.get())})),Object(_.jsx)(js,{onClick:function(){o.set(void 0),c.set(!0)}})]}),Object(_.jsx)(fs,{showState:c,formState:o.get()})]})};var vs=function(){var e=Object(l.f)(O),a=e.loggedUser,t=e.pharmacyBranch,s=e.collapseMenu,r=a.role.get(),n=void 0!==t.id.value;return Object(_.jsx)("main",{className:"".concat(s.value?"ml-24":"ml-64"," mt-21.5 py-8 px-8 overflow-hidden transition-all"),style:{minHeight:"calc(100vh - 100px)"},children:function(){switch(r){case"pharmacy owner":if(!n)return Object(_.jsxs)(y.d,{children:[Object(_.jsx)(y.b,{path:"/account-settings",component:cs}),Object(_.jsx)(y.b,{path:"/my-pharmacies",component:xs}),Object(_.jsx)(y.a,{from:"/",to:"/my-pharmacies"})]});case"supervisor":return Object(_.jsxs)(y.d,{children:[Object(_.jsx)(y.b,{path:"/",exact:!0,component:pt}),"pharmacy owner"===r&&Object(_.jsx)(y.b,{path:"/my-pharmacies",component:xs}),Object(_.jsx)(y.b,{path:["/orders/:id","/orders"],component:wt}),Object(_.jsx)(y.b,{path:"/pos",component:bs}),Object(_.jsx)(y.b,{path:["/staff/:id","/staff"],component:vt}),Object(_.jsx)(y.b,{path:["/Inventory/:id","/Inventory"],component:Ya}),"pharmacy owner"===r&&Object(_.jsx)(y.b,{path:"/pharmacy-settings",component:ts}),Object(_.jsx)(y.b,{path:"/account-settings",component:cs}),Object(_.jsx)(y.a,{to:"/"})]});case"pharmacist":return Object(_.jsxs)(y.d,{children:[Object(_.jsx)(y.b,{path:["/orders/:id","/orders"],component:wt}),Object(_.jsx)(y.b,{path:["/Inventory/:id","/Inventory"],component:Ya}),Object(_.jsx)(y.b,{path:"/account-settings",component:cs}),Object(_.jsx)(y.b,{path:"/",component:bs}),Object(_.jsx)(y.a,{to:"/"})]});case"admin":return Object(_.jsxs)(y.d,{children:[Object(_.jsx)(y.b,{path:"/",exact:!0,component:pt}),Object(_.jsx)(y.b,{path:["/products/:id","/products"],component:Vt}),Object(_.jsx)(y.b,{path:["/users/:id","/users"],component:Lt}),Object(_.jsx)(y.b,{path:["/pharmacies/:id","/pharmacies"],component:Pt}),Object(_.jsx)(y.b,{path:"/account-settings",component:cs}),Object(_.jsx)(y.a,{to:"/"})]})}}()})},gs=function(){var e=Object(l.e)(O),a=e.tables,t=e.notifications,r=e.loggedUser,n=e.pharmacyBranch,c=Object(s.useState)(!0),i=Object(Pe.a)(c,2),d=i[0],u=i[1];return Object(s.useEffect)((function(){n.id.ornull?Object(S.a)(C.a.mark((function e(){var a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.id.value,Promise.resolve({data:$e.filter((function(e){return"new_pharmacy"!==e.type&&"new_branch"!==e.type}))});case 2:a=e.sent,s=a.data,t.set(s);case 5:case"end":return e.stop()}}),e)})))():t.set([])}),[n.id.ornull]),Object(s.useEffect)((function(){try{Object(S.a)(C.a.mark((function e(){var s,n,c,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("admin"!==(s=r.role.get())){e.next=11;break}return e.next=4,Promise.all([Promise.resolve({data:$e.filter((function(e){return"new_pharmacy"===e.type||"new_branch"===e.type}))}),Y(),Promise.resolve({data:xe}),ra()]);case 4:n=e.sent,t.set(n[0].data),a.users.data.set(n[1].data),a.pharmacies.data.set(n[2].data),a.products.data.set(n[3].data),e.next=27;break;case 11:if("pharmacy owner"!==s&&"supervisor"!==s){e.next=21;break}return e.next=14,Promise.all([He(),Ue(),ea(),ra()]);case 14:c=e.sent,a.inventory.data.set(c[0].data),a.employees.data.set(c[1].data),a.orders.data.set(c[2].data),a.products.data.set(c[3].data),e.next=27;break;case 21:return e.next=23,Promise.all([He(),ea(),ra()]);case 23:l=e.sent,a.inventory.data.set(l[0].data),a.orders.data.set(l[1].data),a.products.data.set(l[2].data);case 27:window.setTimeout((function(){return u(!1)}),500);case 28:case"end":return e.stop()}}),e)})))()}catch(e){o.b.error("Network Error in loading resourse.")}}),[]),d?Object(_.jsx)(oa,{}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(va,{}),Object(_.jsx)(ya,{}),Object(_.jsx)(vs,{})]})};var Os=function(){var e=Object(l.e)(O).loggedUser;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(o.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),e.id.ornull?Object(_.jsx)(gs,{}):Object(_.jsx)(ze,{})]})};c.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(w.a,{children:Object(_.jsx)(Os,{})})}),document.getElementById("root"))},86:function(e,a,t){}},[[133,1,2]]]);
//# sourceMappingURL=main.cd9b86af.chunk.js.map